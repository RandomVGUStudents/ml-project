<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>spam_classifier.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>Spam Classifier</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-3OIHLLq_.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/preload-helper-g1IWzEZ-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-XTZdWHwa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/compiler-runtime-QczY1yfQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEventListener-4mpeqPxW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-dom-BZDtXk6t.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jsx-runtime-DUsrKwmN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Combination-D2HqSOvH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clsx-FpJB9huX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cn-Cs2e4A8T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/menu-items-B57SjdWM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hotkeys-Dh4gy4JD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/button-D8mnDDLX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Dj-O1Spr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createLucideIcon-BJ2I6csQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/check-CWbw3kKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/select-CgZgQ5hV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/multi-map-D3NvLiI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chevron-right-B_qBg_RU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dropdown-menu-Ciqx4yT-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-DqNvr2Rw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_getTag-BWqNuuwU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseIsEqual-C8v2yRqO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jotai-D74Ef_p1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/invariant-Amh6wt4N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isArrayLikeObject-BkJc8lDE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/merge-5YNOh9ZD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/zod-BBqism5D.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utils-x9KlwLm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/requests-THIDPq-F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/once-BxRirs3K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toDate-Y5T6FHPx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSlice-BoaxdS7L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_hasUnicode-CNlKPr15.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useLifecycle-8fgb5Nue.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capitalize-L9-XHPtm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ai-model-dropdown-CO52rzQt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/badge-Cm0WUI-_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/use-toast-DKTyV2AR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/constants-BmIIVBf_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Deferred-9HYzcD3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/config-CbG7e0K6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/uuid-B8w6pjWV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/DeferredRequestRegistry-DfLQSvoS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/connection-B11rCPnY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNonce-D8CLFIrY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capabilities-Bdlrhekp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createReducer-VgoBNe3M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-C3a_7WFa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-0z0sEYV-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzfTz_Dx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DmruaXMM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DU0YrNRK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-_bGPtAsk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DsSBESho.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-B2TjmP7E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzDb7E9f.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stex-C4ZxI0N3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cjs-Ba5CQnxe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_arrayReduce-DdxhySYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/type-kFt-n-jZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseProperty-D0ckTA0L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toNumber-GB_lFVaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/now-CAWn5i9V.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/debounce-Bgq-wc7M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toInteger-Cl1doThW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/main-CC_mbgxK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-DoKM12vd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/kbd-EdFdwHEs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/renderShortcut-CLenKJO6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEvent-l9BzRqpK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeleteCell-BDBSmjLV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lazy-Cbg8zRvU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-8c1ixjJ_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/precisionRound-CQhbsDNz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-BECdiY5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vega-loader.browser-DZ31-605.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-CSAGVmjx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ErrorBoundary-6EjkHrSV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-dialog-D9SwG8oA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dialog-BPIq0Dmw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDebounce-C9S6xmGh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/numbers-BigybruE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/SSRProvider-DlZbKHsu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/context-CO64Gasq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNumberFormatter-B5HAJDUq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/usePress-DHxqjtDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/input-CVoLDDk-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ImperativeModal-ameyIrhc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cell-link-BiAu_8pk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-D5BMn3Et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/links-Iv0WhyKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/state-i7G4J1VS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/MarimoErrorOutput-Bh7Bgl2Z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-BS3uwoaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-DhmkXAPp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-icon-Lyk2_Z8G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spinner-DpaQpaiI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D1pae9A2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/focus-CyxSol0W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/popover-DZBXSGEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useRunCells-DT1En-Te.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mode-DKDAYLK9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/purify.es-hXMlfS4W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/RenderHTML-Dlz0Ew2i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-CesNYRF-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tabs-BjAbB8w_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-missing-import-DV1FOw9w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAsyncData-_-DLduEH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useIframeCapabilities-r0LQMxAQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/LazyAnyLanguageCodeMirror-C7KtNlRp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/error-banner-C9tkg1MX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/formats-C3exma5i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useTheme-DpA-8Qyy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/en-US-Lc4gASCJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isValid-Cd_L_2Pm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/maps-D4abje2p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shim-D-ElLTBO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-CCvBQ7qL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/extends-C2lJEiP_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/emotion-is-prop-valid.esm-c4A1huxA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDateFormatter-BMdQ9MI_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/katex-BmfUoCWW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/marked.esm-idL59iHw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-T7OEMACY-CdGEwedE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/range-Bbli-TEL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-kHJ0xpFt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DxdWGPFi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/name-cell-input-C6ZYU6mN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useHotkey-B0ylhc2m.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CqHWOZu2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BcLYYUSi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BVXr6b5T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BrEX5EQl.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CalRK9ms.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Cc4T7UUX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D3MC5WiF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DgaCIZAa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-rqHtY98i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-tj-jaP-y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-w7c0BKrD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CCZcRJI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CrDb6akR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/apl-BQt6lLuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asciiarmor-BjX7bs0j.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asn1-xn1MtyoW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/brainfuck-BjO-UY1i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clike-DW9tQWfF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clojure-BSW96HRx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cmake-C7UlMfz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cobol-CyWIev3Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/coffeescript-DTvziYTK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/commonlisp-yMdkdGMi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/crystal-BGnoSp3z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/css-D7fWzevp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cypher-Cr1dl0Qf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/d-C2bS5bA6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/diff-B2mHQyn6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dtd-Cy-lUE7p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dylan-mm60grwk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ecl-Cqi05Wy1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eiffel-FkvfLQq7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/elm-Da5txHw0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/erlang-CdnCEH5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/simple-mode-B185hCuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/factor-CamlR8EJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/forth-UcMX0m31.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/fortran-DZ_vNVsP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gas-CM88o6Zj.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gherkin-BhrpTeN9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/groovy-BFju68Wx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haskell-CrWHY4et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haxe-1eKW-tbO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/idl-Do4AwvU2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/javascript-CTXZKRYd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/julia-BRynwHI4.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/livescript-ZmIBNA-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lua-mUfZ-MRC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mathematica-Dil5dTHO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mbox-Dnkn9wSr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mirc-auEWieOB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mllike-xVJsauJ8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/modelica-B8kajVDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mscgen-Bsnta1jn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mumps-CMw16b5q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/nsis-DwPdi8sw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ntriples-O5lQxirn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/octave-CMfAar-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/oz-CLRI9Qww.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pascal-D2M_3HBx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/perl-B8lV7aKt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pig-Bima2bfE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/powershell-v_t41ydu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/properties-ChrStSby.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/protobuf-Bin6kmlf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pug-UWVdYLYW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/puppet-DYrtWvYn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/python-BuKrulde.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/q-CrXUTiVN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/r-Bk2Tiso2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/rpm-CmmZphz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ruby-ElyOTVeQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sas-jE3ZlG0K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/scheme-CZF1tRbv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shell-LqT3ZqMa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sieve-y15yT7Pp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/smalltalk-pk5PvsMs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sparql-DTZ_gfPQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stylus-CrGj0eNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/swift-tt3PlBbI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tcl-1P4b0GMJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textile-BHDIuMYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toml-C8qoqk_i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/troff-DMiF5Zmz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-cfg-qLZtNU-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-BAUp3RZn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/turtle-BizIwmKv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vb-Bn_uCxNL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vbscript-BTKW8Atx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/velocity-CcB05fpi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/verilog-BWdtOJH8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vhdl-CzFOaOHx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/webidl-DDEKCqSy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/xquery-BcF6ZhQP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/yacas-BARQAiXa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/z80-DO_Ep0iT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-DnNh7vdQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/objectWithoutPropertiesLoose-DDabolgJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-Crqxhl3F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-Df8Wb7xS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-D8ETq-cc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/icons-BgmgMjOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/blob-LiDbeYko.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-cell-with-ai-85tnyxYo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chart-no-axes-column-BrQ3B3xc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-function-D5EEjILG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spec-DpllSlJD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useInstallPackage-BaAhpZlP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/column-preview-DGBk0umL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAddCell-DYfGo4T8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toggle-PGHtwx2G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/api-CoLss8_O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globals-oV9pRUSB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/share-DjbnD3WE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/memoize-DN0TMY36.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/get-CyLJYAfP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSet-CKSmZC_I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utilities.esm-DvrcU9Ky.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/floating-outline-DmCT2Mvg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eye-off-BUwXWtH0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/plus-CiGrWbgb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/readonly-python-code-CkaJ4Tks.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-video-camera-BGBfFNDn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-text-O5IflCIn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-CqXxt3_J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-BMriRmf-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/label-4Nancvon.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textarea-BnZHy5Jt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/circle-x-Cc9X6U_B.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-ccw-aU2rUkrI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-2-Du5ITnDv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/form-600t_Civ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/field-Dov6YyOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/switch-Ct8mUApv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useBoolean-Dmwks1uh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeepCompareMemoize-C8RdAYFq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-D0WVpW93.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/prop-types-WJwGTMoZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/es-DAmFxw3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/VisuallyHidden-RqykLBKh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseFlatten-rM2FaX4x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hasIn-CE-pxQP-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_basePickBy-LbasZ8ix.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pick-FbHfDtcJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/send-LAFRRDPT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/code-xml-DdSOsi73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-Dmmu2U4a.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globe-vMZtva7z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-cw-BOc7UXm9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/settings-DznrHqbd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-DhlBDqyx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/triangle-alert-Bf1kg4xT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DL3W3q-2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/bundle.esm-C-9IAWQU.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-wU8qigWB.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DUep6sC9.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-CJU5NUvF.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {"/@file/2698-23769-0lbExjqD.arrow": "data:application/vnd.apache.arrow.file;base64,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", "/@file/2722-23769-97SRdEEr.arrow": "data:application/vnd.apache.arrow.file;base64,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"};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "spam_classifier.py",
            "mode": "read",
            "version": "0.18.4",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "above", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "dark"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "uv"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"app_title": "Spam Classifier", "auto_download": ["ipynb", "html"], "sql_output": "auto", "width": "full"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo\n\n# Miscellaneous\nimport glob\nimport hashlib\nimport os\nimport tarfile\nimport typing\nimport wget\nfrom collections import Counter\nfrom math import sqrt\nfrom tqdm.auto import tqdm\n\n# Data processing\nimport numpy as np\nimport re\nimport re2\nimport spacy\nimport spacy_transformers\nimport pandas as pd\nfrom bs4 import BeautifulSoup\nimport mailparser\n\n# Plotting\nimport altair as alt\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Scikit-learn\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn import metrics\n\n\n# Load NLP module\nprint(spacy.prefer_gpu())\nnlp = spacy.load(\"en_core_web_trf\")\nnlp.add_pipe(\"merge_entities\", after=\"ner\")\n\nruler = nlp.add_pipe(\"entity_ruler\", before=\"ner\")\npatterns = [\n    {\"label\": \"TIME\", \"pattern\": [{\"SHAPE\": \"dd:dd:dd\"}]},\n]\nruler.add_patterns(patterns)", "code_hash": "5d45b6c4ec97c44adf5478109b04c039", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "setup", "name": "setup"}, {"code": "mo.md(r\"\"\"\n# Hi there!\n\nThis is the notebook for our Machine Learning project.\n\u003Cbr\u003E\nLet's take a look at the table of content (it is also available on the right side of the screen):\n\nI. Data Acquisition\n- Download dataset\n- Load whole dataset\n- Preprocess email\n\nII. Feature Engineering\n- Additional features to consider\n\nIII. Training\n- Train time\n- Confusion time\n\nIV. Model Analysis\n\n**Let's get started!**\n\n\ud83d\udca1 Tips: Click \u25b6\ufe0f in the down right corner.\n\"\"\")", "code_hash": "3e90bbf69d06c7aec2a84b94dd1ef1f0", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "Hbol", "name": "_"}, {"code": "mo.md(r\"\"\"\n# I. Data Acquisition\n\nIn this section, we obtain the data from the Apache's SpamAssassin Public Corpus and read them.\n\u003Cbr\u003E\nAfter that, we can load all emails into a DataFrame.\n\n## 1. Download dataset\n\"\"\")", "code_hash": "b63b8404829bd5e5e5626e46133c861b", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "MJUe", "name": "_"}, {"code": "dataset_source = {\n    'easy_ham': {\n        'url': \"https://spamassassin.apache.org/old/publiccorpus/20030228_easy_ham.tar.bz2\",\n        'count': 2500,\n        'is_spam': False\n    },\n    'easy_ham_2': {\n        'url': \"https://spamassassin.apache.org/old/publiccorpus/20030228_easy_ham_2.tar.bz2\",\n        'count': 1400,\n        'is_spam': False\n    },\n    'hard_ham': {\n        'url': \"https://spamassassin.apache.org/old/publiccorpus/20030228_hard_ham.tar.bz2\",\n        'count': 250,\n        'is_spam': False\n    },\n    'spam': {\n        'url': \"https://spamassassin.apache.org/old/publiccorpus/20030228_spam.tar.bz2\",\n        'count': 500,\n        'is_spam': True\n    },\n    'spam_2': {\n        'url': \"https://spamassassin.apache.org/old/publiccorpus/20050311_spam_2.tar.bz2\",\n        'count': 1396,\n        'is_spam': True\n    }\n}\n\ndataset_dir = \"./datasets/\"\n\nif not os.path.exists(dataset_dir):\n    os.mkdir(dataset_dir)\n\n\ndef download_dataset(dataset_path: str, dataset_url: str):\n    tmp = wget.download(dataset_url)\n\n    with tarfile.open(tmp, \"r:bz2\") as tar:\n        tar.extractall(dataset_dir)\n\n    os.remove(os.path.join(dataset_path, \"cmds\"))\n    os.remove(tmp)\n\n\nmo.md(r\"\"\"\n### a. Define dataset source and download function\n\nWe have 5 files:\n\n- easy_ham (2500 ham emails)\n- easy_ham_2 (1400 ham emails)\n- hard_ham (250 ham emails)\n- spam (500 spam emails)\n- spam_2 (1396 spam emails) *Although they said there were 1397 emails, there are only 1396 files in the extracted folder.*\n\nOur download function will download the files and extract into `./datasets/` folder.\n\"\"\")", "code_hash": "5d715d0b406bbefb33a2b40ab356e0e7", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "for _dataset_name, _dataset_info in dataset_source.items():\n    _dataset_path = os.path.join(dataset_dir, _dataset_name)\n\n    if os.path.exists(_dataset_path):\n\n        if len(os.listdir(_dataset_path)) != _dataset_info['count']:\n            print(f\"Dataset {_dataset_name} is missing some files, let's redownload.\")\n            download_dataset(_dataset_name, _dataset_info['url'])\n\n        for _filename in os.listdir(_dataset_path):\n            _file_path = os.path.join(_dataset_path, _filename)\n\n            if os.path.isfile(_file_path):\n                _md5_hash = hashlib.md5(open(_file_path, 'rb').read()).hexdigest()\n                _provided_hash = _filename.split(\".\")[1]\n\n                # Ignore wrong hash from source\n                if (_md5_hash != _provided_hash and _provided_hash != \"244a63cd74c81123ef26129453e32c95\"):\n                    print(f\"Hash mismatch for {_filename}, redownloading dataset {_dataset_name}...\")\n\n                    download_dataset(_dataset_name, _dataset_info['url'])\n                    os.remove(os.path.join(_dataset_path, _filename))\n\n                    break\n\n    else:\n        print(f\"Missing dataset {_dataset_name}, downloading it now...\")\n        download_dataset(_dataset_path, _dataset_info['url'])\n\n\nmo.md(r\"\"\"\n### b. Check dataset integrity\n\nThe file name of each email is its MD5 hash.\n\u003Cbr\u003E\nWe can use it to verify the integrity of the dataset.\n\n*Note: A file has incorrect hash from source, that's not our fault.*\n\nWe will redownload the dataset if any file is corrupted or missing.\n\"\"\")", "code_hash": "c068d17570cff575d64340a7dcda4071", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "_"}, {"code": "mails = glob.glob(\"./datasets/*/*\", recursive=True)\nidx = mo.ui.number(start=0, stop=len(mails) - 1, label=\"Number\")\n\nmo.md(r\"\"\"\n### c. Viewing some emails\n\nLet's take a look at some emails that we've got.\n\nTo save us some hassle, we won't be looking as raw email files (feel free to look at them, though!)\n\u003Cbr\u003E\nHowever, we will be using the `mailparser` library to parse the emails.\n\nWhat we care about:\n\n- Subject\n- Plain text content\n- HTML content\n\n\ud83d\udca1 Tips: Click \"Fullscreen\" or \"Expand output\" button (they will appear on the right side when you hover the box below).\n\u003Cbr\u003E\nModify the number to view different emails.\n\"\"\")", "code_hash": "8e5fd483485b84374d08e3302c525491", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "_"}, {"code": "mail = mailparser.parse_from_file(mails[idx.value])\n\n\nmo.vstack([\n    idx,\n    mo.md(f\"\"\"\nPath: `{mails[idx.value]}`\n\n```text\n-- SUBJ --\n{mail.subject}**\n-- TEXT --\n{\"---\\n\\n---\".join(mail.text_plain) if mail.text_plain else \"\u003CNo plain text content\u003E\"}\n-- HTML --\n{mail.text_html if mail.text_html else \"\u003CNo HTML content\u003E\"}\n```\n\"\"\")\n])", "code_hash": "9ce91382936e31ad3397a6e9c879e78e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "_"}, {"code": "dataset_checkpoints = {\n    'orig': {\n        'description': \"Dataset without preprocessing (6046 entries)\",\n        'checksum': \"6ab4e23a696aeac72ad3b38396666a25\"\n    },\n    'pre_cleaned': {\n        'description': \"Dataset after pre-cleanup (5851 entries)\",\n        'checksum': \"589f556bc02bdeaa376ca92a99e9755c\"\n    },\n    'post_cleaned': {\n        'description': \"Dataset after post-cleanup (5851 entries)\",\n        'checksum': \"d972cc17841c34ed3f73c1bd3e3fad62\"\n    }\n}\n\ndef load_dataset(checkpoint: str) -\u003E pd.DataFrame:\n    dataset_path = os.path.join(dataset_dir, f\"{checkpoint}.gzip\")\n\n    if not os.path.exists(dataset_path):\n        raise FileNotFoundError(f\"No checkpoint '{checkpoint}' in {dataset_dir}\")\n\n    hash = hashlib.md5(open(dataset_path, 'rb').read()).hexdigest()\n    if hash != dataset_checkpoints[checkpoint]['checksum']:\n        print(f\"Expected: {dataset_checkpoints[checkpoint]['checksum']}, got: {hash}\")\n        raise ValueError(\"Dataset file broken.\")\n\n    data = pd.read_parquet(dataset_path)\n    return data\n\ndef save_dataset(df: pd.DataFrame, checkpoint_name: str):\n    path = os.path.join(dataset_dir, f\"{checkpoint_name}.gzip\")\n    df.to_parquet(\n        path=path,\n        compression='gzip'\n    )\n\n    hash = hashlib.md5(open(path, 'rb').read()).hexdigest()\n    print(f\"File: {path}\\nMD5: {hash}\")\n\n    \nmo.md(r\"\"\"\n## 2. Load whole dataset\n\nNow let's load everything into a DataFrame.\n\nLet's understand why we need checkpoints.\n\u003Cbr\u003E\nWe don't want to reprocess the dataset every time we run the notebook, so we will save the processed dataset into a file.\n\u003Cbr\u003E\nIn subsequent runs, we can just load it back.\n\nHere we have some checkpoints and some functions to save and load datasets.\n\"\"\")", "code_hash": "6c1b91502285b7491c0f929570ddd037", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "try:\n    df = load_dataset('orig')\n\nexcept (FileNotFoundError, ValueError) as e:\n    data = {\n        'subject': [],\n        'text': [],\n        'html': [],\n        'label': []\n    }\n\n\n    for _dataset_name, _dataset_info in dataset_source.items():\n        _dataset_path = os.path.join(dataset_dir, _dataset_name)\n\n        if os.path.exists(_dataset_path):\n\n            for _filename in os.listdir(_dataset_path):\n                _file_path = os.path.join(_dataset_path, _filename)\n\n                if os.path.isfile(_file_path):\n                    try:\n                        _mail = mailparser.parse_from_file(_file_path)\n                    except Exception as e:\n                        print(f\"Error with file {_file_path}: {e}\")\n                        continue\n\n                    data['subject'].append(_mail.subject)\n                    data['text'].append(\"\\n\".join(_mail.text_plain))\n                    data['html'].append(\"\\n\".join(_mail.text_html))\n                    data['label'].append(int(_dataset_info['is_spam']))\n\n    mo.md(f\"{str(e)}\\nLoading from files...\")\n\n    df = pd.DataFrame(data)\n    save_dataset(df, 'orig')\n\n\nmo.md(r\"\"\"\nWe use `mailparser` to parse 6k+ emails into a DataFrame, and save it for later.\n\nWe will only do that when the checkpoint isn't available, or is somehow broken.\n\"\"\")", "code_hash": "ba1b9e1db9b54fe18614ad8f2726af20", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "_"}, {"code": "mo.md(r\"\"\"\n## 3. Preprocess email\n\nA little rant about how ML works in this problem:\n\n- Emails are broken into 'tokens'. Tokens are words (in simple form), or special ones.\n- The tokens are the features for the model.\n\nHere's what we need to do:\n\n1. Remove duplicates from raw dataset.\n2. Find and replace certain tokens with regex (email, addresses, phone number, etc.)\n3. Find and replace proper noun tokens (entities).\n\"\"\")", "code_hash": "d19fd4dfec6f0c44c3ab1adfc1909515", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ZHCJ", "name": "_"}, {"code": "mo.md(r\"\"\"\n### a. Data exploration notes\n\n- High correlation: HTML usage and spam\n- Dataset artifact: a lot of spam emails have this:\n\n```text\n--DeathToSpamDeathToSpamDeathToSpam--\n```\n\n- There might be (mostly in spam emails) forms with `_____` blanks.\n- Mailing list footer should be removed, they mostly appear in ham emails.\n\n```text\n-------------------------------------------------------\nThis sf.net email is sponsored by:ThinkGeek\nWelcome to geek heaven.\nhttp://thinkgeek.com/sf\n_______________________________________________\nSpamassassin-talk mailing list\nSpamassassin-talk@lists.sourceforge.net\nhttps://lists.sourceforge.net/lists/listinfo/spamassassin-talk\n```\n\n- ~~Email replies appear with `\u003E ` or `--] `, and \"On DATE, USER wrote:\"~~ Nvm, it's pretty random.\n- Mailling list (or some name) in subject that is not filtered (like ilug)\n- Entity labels exclusion: \"CARDINAL\", \"ORDINAL\"\n- Some emails are malformed, they are extremely long\n\"\"\")", "code_hash": "deae1723030e26dad16b57f19e67be25", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "ROlb", "name": "_"}, {"code": "deduplicated_df = df.drop_duplicates(subset=['text', 'html'])\n\n\nmo.md(r\"\"\"\n### b. Remove duplicates\n\"\"\")", "code_hash": "24c2384f84f16fd1c28094666b65dade", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TqIu", "name": "_"}, {"code": "mo.md(r\"\"\"\n### c. Preprocess preview\n\nThis is merely the scratchpad for whatever we want to do with these emails.\n\nChange the number to view different emails, just like above.\n\u003Cbr\u003E\n*(Also don't forget to use fullscreen or expand output)*\n\nThe first column contains subject + plain text + parsed HTML (more information down below).\n\u003Cbr\u003E\nThe second column shows how each token is transformed (in `nlp_pipeline` section down below).\n\u003Cbr\u003E\nThe third one shows the results.\n\"\"\")", "code_hash": "b16e3635f365d9c44c7424997043e4ef", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "Vxnm", "name": "_"}, {"code": "_tfidf = TfidfVectorizer()\n_entry = deduplicated_df.iloc[idx.value]\n\n_clean_subj = subject_cleanup(_entry['subject'])\n_clean_html = html_cleanup(_entry['html'])\n_merged_text = merge_text_html(_entry['text'],_entry['html'])\n_text = f\"{_clean_subj}\\n{_merged_text}\"\n\n_text_2 = artifact_cleanup(_text)\n\n_doc = nlp(_text_2)\n_debug_text = nlp_pipeline(_doc, debug=True)\n_new_text = nlp_pipeline(_doc)\n\n\n_table2 = mo.ui.table(\n    data=[{\n        \"Token\": token.text,\n        \"Lemma\": token.lemma_,\n        \"PoS\": token.pos_,\n        \"Tag\": token.tag_,\n        \"Entity\": token.ent_type_,\n        \"Stop word\": token.is_stop,\n        \"URL\": token.like_url,\n        \"Email\": token.like_email\n    } for token in _doc],\n    label=\"Tokens\",\n    pagination=True,\n    wrapped_columns=[\"Token\", \"Lemma\"]\n)\n\n\nif len(_new_text) == 0:\n    _new_text = \"_\u003CEMPTY\u003E_\"\n\n_results = _tfidf.fit_transform([_new_text])\n_vocab = [{'word': _word, 'idx': _idx} for _word, _idx in _tfidf.vocabulary_.items()]\n_table = mo.ui.table(data=_vocab, label=\"TF-IDF\", pagination=True)\n\n\nmo.vstack(\n    [\n        idx,\n        mo.md(f\"Label: {\"Ham\" if _entry['label'] == 0 else \"Spam\"}\"),\n        mo.hstack(\n            [\n                mo.md(f\"{_clean_subj}\\n{_merged_text}\".replace(\"\\n\", \" \")),\n                mo.md(_debug_text.replace(\"\\n\", \" \")),\n                mo.md(_new_text.replace(\"\\n\", \" \"))\n            ],\n            widths=[1, 1.2, 0.9]\n        ),\n        mo.hstack([\n            _table,\n            _table2\n        ], widths=[1, 5]),\n        mo.md(f\"Stop word ratio: {len([tok for tok in _doc if tok.is_stop]) / _doc.__len__()}\"),\n    ])", "code_hash": "5122f8a7b99fe6dbfdbcaa8c72187946", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ulZA", "name": "_"}, {"code": "try:\n    #raise(ValueError(\"Code changed. Rebuilding dataset...\"))\n    pre_cleaned_df = load_dataset('pre_cleaned')\n\nexcept (FileNotFoundError, ValueError) as e:\n    tqdm.pandas(desc=\"Running pre_cleanup\", ncols=100)\n\n    pre_cleaned_df = pd.DataFrame({\n        'text': deduplicated_df.progress_apply(\n            lambda x: pre_cleanup(x['subject'], x['text'], x['html']),\n            axis=1\n        ),\n        'label': deduplicated_df['label']\n    })\n\n    save_dataset(pre_cleaned_df, 'pre_cleaned')\n\n\nmo.md(r\"\"\"\n### d. Pre cleanup\n\nFind and replace certain tokens with regex (email, addresses, phone number, etc.)\n\"\"\")", "code_hash": "41991120b1029f67b911db720ef103fc", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "xXTn", "name": "_"}, {"code": "def pre_cleanup(subject: str, text: str, html: str):\n    clean_subj = subject_cleanup(subject)\n    merged_text = merge_text_html(text, html)\n\n    pass_1 = f\"{clean_subj}\\n{merged_text}\"\n    pass_2 = artifact_cleanup(pass_1)\n\n    return pass_2", "code_hash": "de46d4cf083121409a3c7563e0fa81dc", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nHfw", "name": "_"}, {"code": "def merge_text_html(text: str, html: str, threshold = 0.95) -\u003E str:\n    if len(html) != 0:\n        html = html_cleanup(html)\n\n        # Some texts has leftover HTML somehow\n        text = html_cleanup(text)\n\n        if len(text) == 0:\n            return html\n\n        else:\n            similarity = cosine_similarity(text, html)\n\n            if similarity \u003E= threshold:\n                return text\n\n            else:\n                return f\"{text}\\n{html}\"\n\n    else:\n        return html_cleanup(text)", "code_hash": "4225529e9cf31759721e5b716b1898e4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aLJB", "name": "_"}, {"code": "url_pattern = re.compile(\n    r\"((http|ftp|https):\\/\\/)?([\\w_-]+(?:\\.[\\w_-]+)*\\.[a-zA-Z_-][\\w_-]+)([\\w.,@?^=%\u0026:\\/~+#-]*[\\w@?^=%\u0026\\/~+#-])\"\n)\n\n# Remove mailing list information\nsubject_cleanup_pattern = re2.compile(\n    r\"\\[.*?\\]\"\n)\n\n\ndef artifact_cleanup(text):\n    artifact = \"--DeathToSpamDeathToSpamDeathToSpam--\"\n    return text.replace(artifact, \"\")\n\n\ndef subject_cleanup(text: str) -\u003E str:\n    return re2.sub(\n        pattern=subject_cleanup_pattern,\n        text=text,\n        repl=\"\"\n    ).strip()\n\n\ndef html_cleanup(html):\n    if pd.isna(html):\n        return \"\"\n\n    soup = BeautifulSoup(html, 'html5lib')\n\n    # Artificially add _URL_ tokens\n    return soup.get_text(separator=\" \", strip=True) + \" google.com\" * len(soup.find_all('a'))", "code_hash": "041691dd0b01a9f4ec43e99fe29ad1fa", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Pvdt", "name": "_"}, {"code": "def cosine_similarity(s1: str, s2: str) -\u003E float:\n    if len(s1) == 0 or len(s2) == 0:\n        return 0.0\n\n    # Convert strings to character frequency vectors\n    vec1 = Counter(s1)\n    vec2 = Counter(s2)\n\n    # Calculating cosine similarity\n    dot_product = sum(vec1[ch] * vec2[ch] for ch in vec1)\n    magnitude1 = sqrt(sum(count ** 2 for count in vec1.values()))\n    magnitude2 = sqrt(sum(count ** 2 for count in vec2.values()))\n    return dot_product / (magnitude1 * magnitude2)", "code_hash": "83bf8c59bf88d54cb6c61333ee4d584b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZBYS", "name": "*cosine_similarity"}, {"code": "try:\n    #raise(ValueError(\"Code changed. Rebuilding dataset...\"))\n    post_cleaned_df = load_dataset('post_cleaned')\n\nexcept (FileNotFoundError, ValueError) as e:\n    _post_cleaned_emails = []\n    _truncated_texts = []\n    _skipped_idx = []\n\n    for i, row in pre_cleaned_df.iterrows():\n        if len(row['text']) \u003E MAX_CHAR_LENGTH:\n            _skipped_idx.append(i)\n            _truncated_texts.append(row['text'][:MAX_CHAR_LENGTH])\n        else:\n            _truncated_texts.append(row['text'])\n\n    _post_cleanup_status = mo.status.progress_bar(\n        title=\"Running post_cleanup\",\n        total=len(pre_cleaned_df)\n    )\n\n    with _post_cleanup_status as _bar:\n        for _doc in process_batches(\n            nlp=nlp,\n            texts=_truncated_texts,\n            batch_size=5\n        ):\n            _post_cleaned_emails.append(nlp_pipeline(_doc))\n\n            _bar.update()\n\n    post_cleaned_df = pd.DataFrame({\n        'text': _post_cleaned_emails,\n        'label': pre_cleaned_df['label']\n    })\n\n    pre_cleaned_df[post_cleaned_df['text'] == \"\"]\n    post_cleaned_df = post_cleaned_df[post_cleaned_df['text'] != \"\"].reset_index(drop=True)\n\n    save_dataset(post_cleaned_df, 'post_cleaned')\n\n\nmo.md(r\"\"\"\n### e. Post cleanup\n\nFind and replace proper noun tokens (entities).\n\"\"\")", "code_hash": "c38f7a373ce67902a827e52e47794dfb", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aqbW", "name": "_"}, {"code": "import torch\n\nMAX_CHAR_LENGTH = 15000\n\n\ndef process_batches(nlp, texts, batch_size=None):\n    for i, doc in enumerate(nlp.pipe(\n        texts,\n        batch_size=batch_size,\n        disable=[\"parser\"]\n    )):\n        doc._.trf_data = None\n\n        yield doc\n\n        if i % batch_size == 0:\n            torch.cuda.empty_cache()", "code_hash": "3914a0a430dbffe8d6a27017675f8c0b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "NCOB", "name": "_"}, {"code": "def nlp_pipeline(doc: spacy.tokens.Doc, stop_threshold = 0.01, debug = False) -\u003E str:\n    with doc.retokenize() as retokenizer:\n        for match in email_pattern.finditer(doc.text):\n            span = doc.char_span(\n                match.start(),\n                match.end(),\n                alignment_mode='expand'\n            )\n\n            if span is not None:\n                retokenizer.merge(span)\n                for token in span:\n                    token.ent_type_ = \"EMAIL\"\n\n    with doc.retokenize() as retokenizer:\n        for match in pgp_signature_pattern.finditer(doc.text):\n            span = doc.char_span(\n                match.start(),\n                match.end(),\n                alignment_mode='expand'\n            )\n\n            if span is not None:\n                retokenizer.merge(span)\n                for token in span:\n                    token.ent_type_ = \"PGP_SIG\"\n\n    with doc.retokenize() as retokenizer:\n        for ent in doc.ents:\n            if ent.label_ in [\"DATE\", \"TIME\", \"MONEY\"]:\n                retokenizer.merge(ent)\n\n\n    # Treat as spam\n    stop_word_ratio = len([token for token in doc if token.is_stop]) / doc.__len__()\n    if stop_word_ratio \u003C stop_threshold:\n        return \"\"\n\n    return \" \".join(\n        [token_processor(token, debug) for token in doc]\n    )", "code_hash": "5a6b96f43836d8dc9bd103c20164ccbf", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TXez", "name": "_"}, {"code": "def token_processor(token: spacy.tokens.Token, debug: bool = False) -\u003E str:\n    def debug_fmt(tag: str) -\u003E str:\n        spaced_text = \"~ ~\".join(token.text.split())\n        return f\"{tag} ~\u003C-{spaced_text}~\"\n\n    if token.is_stop or token.tag_ == \"LS\":\n        return \"\" if not debug else f\"~~{token.text}~~\"\n\n    if token.like_url:\n        return \"_url_\" if not debug else debug_fmt(\"_url_\")\n    \n    if token.like_email:\n        return \"_email_\" if not debug else debug_fmt(\"_email_\")\n\n    if token.ent_type_ and token.ent_type_ not in [\"CARDINAL\", \"ORDINAL\"]:\n        tag = f\"_{token.ent_type_}_\".lower()\n        return tag if not debug else debug_fmt(tag)\n\n    if token.pos_ == \"PROPN\":\n        return \"_propn_\" if not debug else debug_fmt(\"_propn_\")\n    \n    if token.pos_ == \"NUM\":\n        return \"_num_\" if not debug else debug_fmt(\"_num_\")\n    \n    if token.pos_ == \"X\" and token.tag_ == \"FW\":\n        return \"_foreign_\" if not debug else debug_fmt(\"_foreign_\")\n\n    return token.lemma_", "code_hash": "9ddd442db44b74fb5800b17fcf0eae14", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TRpd", "name": "*token_processor"}, {"code": "mo.md(r\"\"\"\n# II. Features engineering\n\n## 1. Additional features to consider\n\n- ~~Contains HTML (boolean)~~\n- Number of links (share the same token with links in text)\n- ~~Number of special characters~~ Might not be a good feature\n- Capitals ratio\n- ~~Email size~~ (maybe not)\n- Reply ratio, reply depth count\n- Stop word ratio\n\"\"\")", "code_hash": "eafa10dde46388fa963f19fef37a537f", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "yCnT", "name": "_"}, {"code": "def calc_capitals_ratio(text: str) -\u003E float:\n    if len(text) == 0:\n        return 0.0\n\n    capitals_count = sum(1 for c in text if c.isupper())\n    return capitals_count / len(text)\n\n\nmo.md(r\"\"\"\n### a. Capitals ratio\n\nI didn't use this yet, though.\n\"\"\")", "code_hash": "fe7a2352ab1de7bbebe0b6f1dc994e9d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "kqZH", "name": "_"}, {"code": "def count_special_chars(text):\n    special_chars = \"!@#$%^\u0026*()-_=+[]{}|;:'\\\",.\u003C\u003E?/`~\"\n    return sum(1 for char in text if char in special_chars)\n\n\nmo.md(r\"\"\"\n### b. Number of special characters\n\nOn second thought..., I skipped it.\n\"\"\")", "code_hash": "f98746bc23edb4a967367cc367e60a99", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "rEll", "name": "_"}, {"code": "vectorizer = TfidfVectorizer()\n\n# Fit the vectorizer to the data and transform it into a TF-IDF matrix\ntfidf_matrix = vectorizer.fit_transform(post_cleaned_df['text'])\ntfidf_df = pd.DataFrame(tfidf_matrix.toarray(), columns=vectorizer.get_feature_names_out())\n\n\nmo.md(r\"\"\"\n### c. TF-IDF\n\nCode copied from GeeksForGeeks:\n\"\"\")", "code_hash": "ca3972070a5820ff1389d86e67060aba", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lgWD", "name": "_"}, {"code": "X = tfidf_df\ny = post_cleaned_df['label']\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.25, random_state=42)\n\nlogreg = LogisticRegression(max_iter=1000)\nlogreg.fit(X_train, y_train)\n\ny_pred = logreg.predict(X_test)\n\n\nmo.md(r\"\"\"\n# III. Model training\n\n## 1. Train time\n\nHere, we train our Logistic Regression model with 75-25 train-test split.\n\"\"\")", "code_hash": "74a7bd3362d17682b5e67e7bb9265f36", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "fwwy", "name": "_"}, {"code": "mo.md(r\"\"\"\n## 2. Confusion time\n\"\"\")", "code_hash": "b29e21d360481bafdeb6a7d3c86524ec", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "LJZf", "name": "_"}, {"code": "cnf_matrix = metrics.confusion_matrix(y_test, y_pred)\ncnf_matrix\n\nclass_names=[0,1] # name  of classes\nfig, ax = plt.subplots()\ntick_marks = np.arange(len(class_names))\nplt.xticks(tick_marks, class_names)\nplt.yticks(tick_marks, class_names)\n\n# create heatmap\nsns.heatmap(pd.DataFrame(cnf_matrix), annot=True, cmap=\"YlGnBu\" ,fmt='g')\nax.xaxis.set_label_position(\"top\")\nplt.tight_layout()\nplt.title('Confusion matrix', y=1.1)\nplt.ylabel('Actual label')\nplt.xlabel('Predicted label')", "code_hash": "e5cb68d74339e4cd6d3d298bdedb8a89", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "urSm", "name": "_"}, {"code": "target_names = [\"Ham\", \"Spam\"]\nprint(metrics.classification_report(y_test, y_pred, target_names=target_names))", "code_hash": "a01f40fb673b79f8222e0d333f58afbe", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "jxvo", "name": "_"}, {"code": "mo.md(r\"\"\"\n# IV. Model analysis\n\nWe take a look into our model and see its decision-making.\n\n## 1. Important words\n\nThe charts show top 20 words for words that are likely in ham and spam emails.\n\"\"\")", "code_hash": "b25958e2f585b043e8e6f0b581b81414", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "mWxS", "name": "_"}, {"code": "features_df = pd.DataFrame({\n    'word': tfidf_df.columns,\n    'weight': logreg.coef_[0]\n})\n\n\ntop_spam = features_df.nlargest(20, 'weight')\ntop_ham = features_df.nsmallest(20, 'weight')\n\n\nplot_df = pd.concat([\n    top_spam.assign(type='Spam'),\n    top_ham.assign(type='Ham')\n])\n\nplot_df['type'] = plot_df['weight'].apply(lambda x: 'Spam' if x \u003E 0 else 'Ham')\n\n\nmo.hstack(\n    [\n        mo.ui.altair_chart(\n            alt.Chart(top_ham).mark_bar().encode(\n                x='weight:Q',\n                y=alt.Y('word:N', sort='null'),\n                color=alt.Color('weight:Q', scale=alt.Scale(scheme='greens', reverse=True, type='log')),\n                tooltip=['word', 'weight']\n            ).properties(\n                title=\"Ham words\",\n                height=600\n            )\n        ),\n        mo.ui.altair_chart(\n            alt.Chart(top_spam).mark_bar().encode(\n                x='weight:Q',\n                y=alt.Y('word:N', sort='null'),\n                color=alt.Color('weight:Q', scale=alt.Scale(scheme='reds', type='log')),\n                tooltip=['word', 'weight']\n            ).properties(\n                title=\"Spam words\",\n                height=600\n            )\n        )\n    ],\n    justify='center',\n    widths=\"equal\")", "code_hash": "aa2f89d84265050a53017030ddd08e4b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "YWSi", "name": "_"}, {"code": "mo.md(r\"\"\"\n# Random stuff\n\"\"\")", "code_hash": "82b1d433f45399fd6077e2af5ddc8f49", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "zlud", "name": "_"}, {"code": "mo.ui.dataframe(pre_cleaned_df)", "code_hash": "a18b658fd9ad472bcf980e383b96b4a1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "tZnO", "name": "_"}, {"code": "pre_cleaned_df['text'].apply(lambda x: len(x))", "code_hash": "75646eb59f3cdba2d29cdc622e6b2cb1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "xvXZ", "name": "_"}, {"code": "mo.md(r\"\"\"\n## Beautiful Soup playground\n\"\"\")", "code_hash": "a043d2ac40d190c054ee013d3587a101", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "CLip", "name": "_"}, {"code": "html_input = mo.ui.text_area(placeholder=\"Paste HTML code...\", full_width=True)\nhtml_input ", "code_hash": "1da8b2324fd3e9dc437533bedd4ee79c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "YECM", "name": "_"}, {"code": "soup = BeautifulSoup(html_input.value, 'html5lib')\ncleaned_html = soup.get_text(separator=\" \", strip=True)\nprint(cleaned_html)", "code_hash": "f01f52b6d2ef0f77f22641adf3de7a37", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "cEAS", "name": "_"}, {"code": "mo.md(r\"\"\"\n## RE2 playground\n\"\"\")", "code_hash": "d60c9870e230ae729e3608cf7266aa25", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iXej", "name": "_"}, {"code": "text_input = mo.ui.text_area(placeholder=\"Paste text...\", full_width=True)\ntext_input", "code_hash": "a50a7186c6184e3eea30127f4ace4c9c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "EJmg", "name": "_"}, {"code": "regex_input = mo.ui.text(placeholder=\"Regex\", full_width=True)\nregex_input", "code_hash": "58b8988cb04363639e51452f11f53be8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "UmEG", "name": "_"}, {"code": "re2.sub(pattern=regex_input.value, text=text_input.value, repl=\"\")", "code_hash": "f4477625235af3f193a9a2d29da471a4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vEBW", "name": "_"}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "session": {"cells": [{"code_hash": "5d45b6c4ec97c44adf5478109b04c039", "console": [{"mimetype": "text/plain", "name": "stderr", "text": "/nix/store/mgm19ngyq575kh4dhwm18kq138h58lnh-python3-3.13.9-env/lib/python3.13/site-packages/torch/cuda/__init__.py:827: UserWarning: Can't initialize NVML\n  warnings.warn(\"Can't initialize NVML\")\n", "type": "stream"}, {"mimetype": "text/plain", "name": "stdout", "text": "False\n", "type": "stream"}], "id": "setup", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3e90bbf69d06c7aec2a84b94dd1ef1f0", "console": [], "id": "Hbol", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"hi-there\"\u003EHi there!\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EThis is the notebook for our Machine Learning project.\n\u003Cbr\u003E\nLet's take a look at the table of content (it is also available on the right side of the screen):\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EI. Data Acquisition\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EDownload dataset\u003C/li\u003E\n\u003Cli\u003ELoad whole dataset\u003C/li\u003E\n\u003Cli\u003EPreprocess email\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EII. Feature Engineering\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EAdditional features to consider\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EIII. Training\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003ETrain time\u003C/li\u003E\n\u003Cli\u003EConfusion time\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EIV. Model Analysis\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003ELet's get started!\u003C/strong\u003E\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\ud83d\udca1 Tips: Click \u25b6\ufe0f in the down right corner.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "b63b8404829bd5e5e5626e46133c861b", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"i-data-acquisition\"\u003EI. Data Acquisition\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EIn this section, we obtain the data from the Apache's SpamAssassin Public Corpus and read them.\n\u003Cbr\u003E\nAfter that, we can load all emails into a DataFrame.\u003C/span\u003E\n\u003Ch2 id=\"1-download-dataset\"\u003E1. Download dataset\u003C/h2\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "5d715d0b406bbefb33a2b40ab356e0e7", "console": [], "id": "vblA", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"a-define-dataset-source-and-download-function\"\u003Ea. Define dataset source and download function\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EWe have 5 files:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003Eeasy_ham (2500 ham emails)\u003C/li\u003E\n\u003Cli\u003Eeasy_ham_2 (1400 ham emails)\u003C/li\u003E\n\u003Cli\u003Ehard_ham (250 ham emails)\u003C/li\u003E\n\u003Cli\u003Espam (500 spam emails)\u003C/li\u003E\n\u003Cli\u003Espam_2 (1396 spam emails) \u003Cem\u003EAlthough they said there were 1397 emails, there are only 1396 files in the extracted folder.\u003C/em\u003E\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EOur download function will download the files and extract into \u003Ccode\u003E./datasets/\u003C/code\u003E folder.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "c068d17570cff575d64340a7dcda4071", "console": [], "id": "bkHC", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"b-check-dataset-integrity\"\u003Eb. Check dataset integrity\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EThe file name of each email is its MD5 hash.\n\u003Cbr\u003E\nWe can use it to verify the integrity of the dataset.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cem\u003ENote: A file has incorrect hash from source, that's not our fault.\u003C/em\u003E\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EWe will redownload the dataset if any file is corrupted or missing.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "8e5fd483485b84374d08e3302c525491", "console": [], "id": "PKri", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"c-viewing-some-emails\"\u003Ec. Viewing some emails\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003ELet's take a look at some emails that we've got.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003ETo save us some hassle, we won't be looking as raw email files (feel free to look at them, though!)\n\u003Cbr\u003E\nHowever, we will be using the \u003Ccode\u003Emailparser\u003C/code\u003E library to parse the emails.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EWhat we care about:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003ESubject\u003C/li\u003E\n\u003Cli\u003EPlain text content\u003C/li\u003E\n\u003Cli\u003EHTML content\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003E\ud83d\udca1 Tips: Click \"Fullscreen\" or \"Expand output\" button (they will appear on the right side when you hover the box below).\n\u003Cbr\u003E\nModify the number to view different emails.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "9ce91382936e31ad3397a6e9c879e78e", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='PKri-0' random-id='05efe69e-f9fb-7dbe-fd02-069ed63e5e2e'\u003E\u003Cmarimo-number data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Number\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-start='0' data-stop='6045' data-debounce='false' data-full-width='false' data-disabled='false'\u003E\u003C/marimo-number\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EPath: \u003Ccode\u003E./datasets/easy_ham/00008.5891548d921601906337dcf1ed8543cb\u003C/code\u003E\u003C/span\u003E\n\u003Cdiv class=\"language-text codehilite\"\u003E\u003Cpre\u003E\u003Cspan\u003E\u003C/span\u003E\u003Ccode\u003E-- SUBJ --\nRe: [zzzzteana] Nothing like mama used to make**\n-- TEXT --\nMartin Adamson wrote:\n\u0026gt; \n\u0026gt; Isn\u0026#39;t it just basically a mixture of beaten egg and bacon (or pancetta, \n\u0026gt; really)? You mix in the raw egg to the cooked pasta and the heat of the pasta \n\u0026gt; cooks the egg. That\u0026#39;s my understanding.\n\u0026gt; \n\nYou\u0026#39;re probably right, mine\u0026#39;s just the same but with the cream added to the \neggs.  I guess I should try it without.  Actually looking on the internet for a \nrecipe I found this one from possibly one of the scariest people I\u0026#39;ve ever seen, \nand he\u0026#39;s a US Congressman:\n\u0026lt;http://www.virtualcities.com/ons/me/gov/megvjb1.htm\u0026gt;\n\nThat\u0026#39;s one of the worst non-smiles ever.\n\nStew\nps. Apologies if any of the list\u0026#39;s Maine residents voted for this man, you won\u0026#39;t \ndo it again once you\u0026#39;ve seen this pic.\n\n-- \nStewart Smith\nScottish Microelectronics Centre, University of Edinburgh.\nhttp://www.ee.ed.ac.uk/~sxs/\n\n\n------------------------ Yahoo! Groups Sponsor ---------------------~--\u0026gt;\n4 DVDs Free +s\u0026amp;p Join Now\nhttp://us.click.yahoo.com/pt6YBB/NXiEAA/mG3HAA/7gSolB/TM\n---------------------------------------------------------------------~-\u0026gt;\n\nTo unsubscribe from this group, send an email to:\nforteana-unsubscribe@egroups.com\n\n\n\nYour use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ \n\n\n\n\n-- HTML --\n\u0026lt;No HTML content\u0026gt;\n\u003C/code\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "6c1b91502285b7491c0f929570ddd037", "console": [], "id": "RGSE", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"2-load-whole-dataset\"\u003E2. Load whole dataset\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003ENow let's load everything into a DataFrame.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003ELet's understand why we need checkpoints.\n\u003Cbr\u003E\nWe don't want to reprocess the dataset every time we run the notebook, so we will save the processed dataset into a file.\n\u003Cbr\u003E\nIn subsequent runs, we can just load it back.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EHere we have some checkpoints and some functions to save and load datasets.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "ba1b9e1db9b54fe18614ad8f2726af20", "console": [], "id": "emfo", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EWe use \u003Ccode\u003Emailparser\u003C/code\u003E to parse 6k+ emails into a DataFrame, and save it for later.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EWe will only do that when the checkpoint isn't available, or is somehow broken.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "d19fd4dfec6f0c44c3ab1adfc1909515", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"3-preprocess-email\"\u003E3. Preprocess email\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EA little rant about how ML works in this problem:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EEmails are broken into 'tokens'. Tokens are words (in simple form), or special ones.\u003C/li\u003E\n\u003Cli\u003EThe tokens are the features for the model.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EHere's what we need to do:\u003C/span\u003E\n\u003Col\u003E\n\u003Cli\u003ERemove duplicates from raw dataset.\u003C/li\u003E\n\u003Cli\u003EFind and replace certain tokens with regex (email, addresses, phone number, etc.)\u003C/li\u003E\n\u003Cli\u003EFind and replace proper noun tokens (entities).\u003C/li\u003E\n\u003C/ol\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "deae1723030e26dad16b57f19e67be25", "console": [], "id": "ROlb", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"a-data-exploration-notes\"\u003Ea. Data exploration notes\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003EHigh correlation: HTML usage and spam\u003C/li\u003E\n\u003Cli\u003EDataset artifact: a lot of spam emails have this:\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cdiv class=\"language-text codehilite\"\u003E\u003Cpre\u003E\u003Cspan\u003E\u003C/span\u003E\u003Ccode\u003E--DeathToSpamDeathToSpamDeathToSpam--\n\u003C/code\u003E\u003C/pre\u003E\u003C/div\u003E\n\u003Cul\u003E\n\u003Cli\u003EThere might be (mostly in spam emails) forms with \u003Ccode\u003E_____\u003C/code\u003E blanks.\u003C/li\u003E\n\u003Cli\u003EMailing list footer should be removed, they mostly appear in ham emails.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cdiv class=\"language-text codehilite\"\u003E\u003Cpre\u003E\u003Cspan\u003E\u003C/span\u003E\u003Ccode\u003E-------------------------------------------------------\nThis sf.net email is sponsored by:ThinkGeek\nWelcome to geek heaven.\nhttp://thinkgeek.com/sf\n_______________________________________________\nSpamassassin-talk mailing list\nSpamassassin-talk@lists.sourceforge.net\nhttps://lists.sourceforge.net/lists/listinfo/spamassassin-talk\n\u003C/code\u003E\u003C/pre\u003E\u003C/div\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cdel\u003EEmail replies appear with \u003Ccode\u003E\u0026gt;\u003C/code\u003E or \u003Ccode\u003E--]\u003C/code\u003E, and \"On DATE, USER wrote:\"\u003C/del\u003E Nvm, it's pretty random.\u003C/li\u003E\n\u003Cli\u003EMailling list (or some name) in subject that is not filtered (like ilug)\u003C/li\u003E\n\u003Cli\u003EEntity labels exclusion: \"CARDINAL\", \"ORDINAL\"\u003C/li\u003E\n\u003Cli\u003ESome emails are malformed, they are extremely long\u003C/li\u003E\n\u003C/ul\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "24c2384f84f16fd1c28094666b65dade", "console": [], "id": "TqIu", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"b-remove-duplicates\"\u003Eb. Remove duplicates\u003C/h3\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "b16e3635f365d9c44c7424997043e4ef", "console": [], "id": "Vxnm", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"c-preprocess-preview\"\u003Ec. Preprocess preview\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EThis is merely the scratchpad for whatever we want to do with these emails.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EChange the number to view different emails, just like above.\n\u003Cbr\u003E\n\u003Cem\u003E(Also don't forget to use fullscreen or expand output)\u003C/em\u003E\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThe first column contains subject + plain text + parsed HTML (more information down below).\n\u003Cbr\u003E\nThe second column shows how each token is transformed (in \u003Ccode\u003Enlp_pipeline\u003C/code\u003E section down below).\n\u003Cbr\u003E\nThe third one shows the results.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "5122f8a7b99fe6dbfdbcaa8c72187946", "console": [{"mimetype": "application/vnd.marimo+traceback", "name": "stderr", "text": "\u003Cspan class=\"codehilite\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Cspan\u003E\u003C/span\u003E\u003Cspan class=\"gt\"\u003ETraceback (most recent call last):\u003C/span\u003E\n  File \u003Cspan class=\"nb\"\u003E\u0026quot;/tmp/marimo_23769/__marimo__cell_ulZA_.py\u0026quot;\u003C/span\u003E, line \u003Cspan class=\"m\"\u003E12\u003C/span\u003E, in \u003Cspan class=\"n\"\u003E\u0026lt;module\u0026gt;\u003C/span\u003E\n\u003Cspan class=\"w\"\u003E    \u003C/span\u003E\u003Cspan class=\"n\"\u003E_debug_text\u003C/span\u003E \u003Cspan class=\"o\"\u003E=\u003C/span\u003E \u003Cspan class=\"n\"\u003Enlp_pipeline\u003C/span\u003E\u003Cspan class=\"p\"\u003E(\u003C/span\u003E\u003Cspan class=\"n\"\u003E_doc\u003C/span\u003E\u003Cspan class=\"p\"\u003E,\u003C/span\u003E \u003Cspan class=\"n\"\u003Edebug\u003C/span\u003E\u003Cspan class=\"o\"\u003E=\u003C/span\u003E\u003Cspan class=\"kc\"\u003ETrue\u003C/span\u003E\u003Cspan class=\"p\"\u003E)\u003C/span\u003E\n  File \u003Cspan class=\"nb\"\u003E\u0026quot;/tmp/marimo_23769/__marimo__cell_TXez_.py\u0026quot;\u003C/span\u003E, line \u003Cspan class=\"m\"\u003E3\u003C/span\u003E, in \u003Cspan class=\"n\"\u003Enlp_pipeline\u003C/span\u003E\n\u003Cspan class=\"w\"\u003E    \u003C/span\u003E\u003Cspan class=\"k\"\u003Efor\u003C/span\u003E \u003Cspan class=\"n\"\u003Ematch\u003C/span\u003E \u003Cspan class=\"ow\"\u003Ein\u003C/span\u003E \u003Cspan class=\"n\"\u003Eemail_pattern\u003C/span\u003E\u003Cspan class=\"o\"\u003E.\u003C/span\u003E\u003Cspan class=\"n\"\u003Efinditer\u003C/span\u003E\u003Cspan class=\"p\"\u003E(\u003C/span\u003E\u003Cspan class=\"n\"\u003Edoc\u003C/span\u003E\u003Cspan class=\"o\"\u003E.\u003C/span\u003E\u003Cspan class=\"n\"\u003Etext\u003C/span\u003E\u003Cspan class=\"p\"\u003E):\u003C/span\u003E\n\u003Cspan class=\"w\"\u003E                 \u003C/span\u003E\u003Cspan class=\"pm\"\u003E^^^^^^^^^^^^^\u003C/span\u003E\n\u003Cspan class=\"gr\"\u003ENameError\u003C/span\u003E: \u003Cspan class=\"n\"\u003Ename \u0026#39;email_pattern\u0026#39; is not defined. Did you mean: \u0026#39;url_pattern\u0026#39;?\u003C/span\u003E\n\u003C/pre\u003E\u003C/div\u003E\n\u003C/span\u003E", "type": "stream"}], "id": "ulZA", "outputs": [{"ename": "exception", "evalue": "name 'email_pattern' is not defined", "traceback": [], "type": "error"}]}, {"code_hash": "41991120b1029f67b911db720ef103fc", "console": [], "id": "xXTn", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"d-pre-cleanup\"\u003Ed. Pre cleanup\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EFind and replace certain tokens with regex (email, addresses, phone number, etc.)\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "de46d4cf083121409a3c7563e0fa81dc", "console": [], "id": "nHfw", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4225529e9cf31759721e5b716b1898e4", "console": [], "id": "aLJB", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "041691dd0b01a9f4ec43e99fe29ad1fa", "console": [], "id": "Pvdt", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "83bf8c59bf88d54cb6c61333ee4d584b", "console": [], "id": "ZBYS", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "c38f7a373ce67902a827e52e47794dfb", "console": [], "id": "aqbW", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"e-post-cleanup\"\u003Ee. Post cleanup\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EFind and replace proper noun tokens (entities).\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "3914a0a430dbffe8d6a27017675f8c0b", "console": [], "id": "NCOB", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "5a6b96f43836d8dc9bd103c20164ccbf", "console": [], "id": "TXez", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "9ddd442db44b74fb5800b17fcf0eae14", "console": [], "id": "TRpd", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "eafa10dde46388fa963f19fef37a537f", "console": [], "id": "yCnT", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"ii-features-engineering\"\u003EII. Features engineering\u003C/h1\u003E\n\u003Ch2 id=\"1-additional-features-to-consider\"\u003E1. Additional features to consider\u003C/h2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cdel\u003EContains HTML (boolean)\u003C/del\u003E\u003C/li\u003E\n\u003Cli\u003ENumber of links (share the same token with links in text)\u003C/li\u003E\n\u003Cli\u003E\u003Cdel\u003ENumber of special characters\u003C/del\u003E Might not be a good feature\u003C/li\u003E\n\u003Cli\u003ECapitals ratio\u003C/li\u003E\n\u003Cli\u003E\u003Cdel\u003EEmail size\u003C/del\u003E (maybe not)\u003C/li\u003E\n\u003Cli\u003EReply ratio, reply depth count\u003C/li\u003E\n\u003Cli\u003EStop word ratio\u003C/li\u003E\n\u003C/ul\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "fe7a2352ab1de7bbebe0b6f1dc994e9d", "console": [], "id": "kqZH", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"a-capitals-ratio\"\u003Ea. Capitals ratio\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EI didn't use this yet, though.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "f98746bc23edb4a967367cc367e60a99", "console": [], "id": "rEll", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"b-number-of-special-characters\"\u003Eb. Number of special characters\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EOn second thought..., I skipped it.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "ca3972070a5820ff1389d86e67060aba", "console": [], "id": "lgWD", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"c-tf-idf\"\u003Ec. TF-IDF\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003ECode copied from GeeksForGeeks:\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "74a7bd3362d17682b5e67e7bb9265f36", "console": [], "id": "fwwy", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"iii-model-training\"\u003EIII. Model training\u003C/h1\u003E\n\u003Ch2 id=\"1-train-time\"\u003E1. Train time\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EHere, we train our Logistic Regression model with 75-25 train-test split.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "b29e21d360481bafdeb6a7d3c86524ec", "console": [], "id": "LJZf", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"2-confusion-time\"\u003E2. Confusion time\u003C/h2\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "e5cb68d74339e4cd6d3d298bdedb8a89", "console": [], "id": "urSm", "outputs": [{"data": {"application/vnd.marimo+mimebundle": "{\"image/png\": \"data:image/png;base64,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7/Puu+86NW7Pnj3NxMTEDN/P6dOnzUaNGmVa86BBg5z+rOPi4szhw4dnWNPq1avtfZs2beqw/hdeeMG8cuWKw/slJiaaY8aMMW02W4bjlClTxt4/LCzMqc8uLCzMfk2ZMmXu6TvbvXt3+1hTp07NtP+d/q6nTp1q79+9e/d0+xQtWtTctm2bw8/yzz//NIODg52ut3Tp0uaZM2cyHO/2z/pOPwdnP48OHTrYzyckJJh169Z1OF67du1SfX/q169/T79fGo1Go9FotMwaM+gAADlOdHS03n//fX355Zd64okn9Nhjj6lOnToqWrSoChcurISEBF26dEkHDx7U5s2btWDBglQ7g2bkgw8+0IwZM9S7d289/vjjKleunAoWLKgrV67o+PHj+u233zRp0iRFRER44F26xtSpU/XHH39o0KBBatGihYoXL664uDiFhYVp7ty5mjBhgi5evKimTZs6HOfzzz/X3Llz9dhjj6lBgwaqXr26ypYtqwceeEA3btzQlStXdODAAa1atUrff/+9wsPDXVL/lClTtHDhQvXp00etW7dWpUqVVLhwYV27dk0RERFasWKFpkyZogMHDrjkfjlZVFSUGjRooN69e6tTp0566KGHlDdvXkVFRenQoUP673//qx9++EGxsbFObRIhSeHh4apRo4b69++vli1bqlKlSsqfP79HN40ICgrShAkT7D+PGDFC27Ztc3jN/PnzNXHiRPXp00fe3t764YcfVLNmzXRn2AIAALiCoZtJHQAAAAAAAAAL8NRbAAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAAAAAAAsREAHAAAAAAAAWIiADgAAAAAAALAQAR0AAAAAAABgIQI6AAAAAAAAwEIEdAAAAAAAAICFCOgAAAAAAAAACxHQAQAAAAAAABYioAMAAHesadOmMk1TpmmqadOmac5PnTpVpmkqLCzMguqssXr1apmmqdWrV9/V9Zl9pq6QlX4vYWFhMk1TU6dOtboUAAAAyxHQAQDgRilDl9tbdHS0Tpw4ofnz56tz587y8vKyulwAAAAAFiCgAwDAInnz5lWZMmX09NNP68cff9TGjRsVGBhodVlZXlaaBQYAAAC4AgEdAAAe8s033+ihhx6yt/r166t///72oKlevXpauHChxVW6Rs+ePWUYhsqVK2d1KQAAAECW5211AQAA3C+ioqK0b9++VK9t3rxZP/zwg7Zs2aKKFSsqNDRUbdq00eLFiy2qEgAAAICnMYMOAACLXblyRR999JH951atWllYDQAAAABPI6ADACAL2LJli/24TJky9uPbd/Y0DEM9e/bUqlWrdO7cOSUnJ6e7C2atWrU0fvx4HTx4UNeuXdP169d18OBBffPNN6pYsWKm9fj6+mro0KHatWuXrl+/rgsXLmj9+vXq3bu3DMPI9HpnnxOXL18+DRo0SCtXrtTZs2cVHx+vq1evaseOHfryyy/VoEEDe993331XpmmqR48ekqSyZcumu/lGenLnzq1+/fppxYoV9vtERkbqf//7n1544QWnNugIDQ3VrFmzdPbsWcXGxur48eOaMGGCKlWqlOm1rhIaGqpRo0Zp9erVqT6vffv26ZtvvlFwcPAdjVeiRAl99tlnOnTokKKjoxUVFaXFixfr8ccfd+r6Bx54QG+99ZbWr1+vqKgoxcfH68yZM/rll1/07LPP3s1bBAAAuG+ZNBqNRqPR3NOaNm1q3vLuu+9m2K9SpUr2fkuXLk33+scff9xcvny5ebupU6fa+xuGYX722WdmcnJymn63JCQkmH369MmwlsDAQHPfvn0ZXv/rr7+ajz32mP3npk2bphlj6tSppmmaZlhYWIb3eeSRR8yoqKgM73PLrf7vvvtupn1T9r/V/u///s8MCwtzeM3mzZvNokWLZljrq6++aiYlJaV77bVr18zWrVubq1evNk3TNFevXn3P35X0PtPu3btn+t4TExPNl156KcN7pPy91KlTxzx37lyGY3366acO623RooV5/vx5h/UsXrzY9PPzS/f6W7+TlN9fGo1Go9FotPu18Qw6AACygOrVq9uPz5w5k26fjz/+WDVq1NDChQs1bdo0nTx5UoGBgXrggQfsfcaNG6d+/fpJktasWaNp06bp+PHjiomJUY0aNfTqq6/qoYce0nfffadz585p0aJFqe7h5eWlxYsXq2rVqpKk3377TePHj1dERIRKly6tl19+Wa1atVLhwoXv6f02a9ZMv/76q3x8fJSUlKQZM2Zo4cKFCg8Pl6+vr6pWrarWrVvrH//4h/2ab775RnPmzNH777+vp59+WqdPn850pleFChW0Zs0aFSxYUFevXtXXX3+tLVu2KCIiQv7+/mrbtq369u1r36CjcePGSkpKSjXG008/rTFjxki6uRz5448/1u+//y5JatGihYYMGaIffvhB58+fv6fPJDPe3t66dOmSFi5cqLVr1+rIkSOKjo5WiRIlVLt2bQ0cOFBFihTRV199pYMHD2r16tUZjpU3b17Nnj1bBQoU0EcffaSlS5cqPj5eoaGhGjp0qEqUKKHBgwcrPDxcX375ZZrrGzRooF9//VW5cuXSuXPnNG7cOO3evVtnzpxRiRIl9M9//lNdu3bVk08+qenTp6t9+/bu/GgAAAByBMtTQhqNRqPRcmpzZgadl5eXuXHjRnu/559/Pt3rTdM033vvvQzv9eijj9r7vfDCC+n2yZ07t7lixQr7LCovL69U519++WX7GN9++226Y0yaNClVTXc6gy537tzmqVOnTNM0zevXr6d7/a0WFBR0R2Pf3tavX2+apmlu377d9Pf3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/vqrOnfurGLFiqlv375av369pJu7wAYGBqpv37767bffrCoRAAAAAAAAcLsssUPDtWvXNGnSJDVt2lQVKlTQyJEjdezYMRmGIcMg/gUAAAAAAEDOlSUCupROnjyp9957T5UqVVLjxo01ceJEq0sCAAAAAAAA3Mbb6gIc2bhxozZu3Gh1GQAAAAAA4D6W5WY3IcfhOwbg/7V399Fa1nW++N/3hs0zIqD4wEZBNB7UMggwIShLw6cxf5HD6ZyTmjjqBP4yc8pmnJWTjqWe+VGOjWn4UJ3fjHoUzbIYLUPFSShSSxGBBBETBFF52Dzv8wd5B7L3DWy5uWDzeq2117rc1/f68rlxr8XizefzvQAAAIACCegAAAAAoEB79IgrAAAAQNFqvL+SKtNBBwAAAAAFEtABAAAA0Gzf/OY309DQUP4aNWrUdp8ZPXp07rvvvixcuDBr1qzJwoULc99992X06NE7/Ou2atUqF154YR577LEsWbIkq1evzty5c3PzzTdn4MCB7+Uj7XZGXAEAAAAqKJUaii5hj/WBD3wgX/rSl3Z4falUyi233JJx48Zt9f26urrU1dXlrLPOyq233poLL7wwDQ1N/7537949Dz30UIYOHbrV9/v27Zu+ffvmnHPOyfjx4zNp0qSd+0AF0UEHAAAAwE57J2yrra3N4sWLd+iZa665phzOzZw5M2PHjs2QIUMyduzYzJw5M0lywQUX5Oqrr25yj5qamkyePLkczt17770ZPXp0hg4dmgkTJmTx4sVp165dvve97+1UR16RBHQAAAAA7LRLLrkkQ4cOzaxZs3aoU+2oo47Kl7/85STJjBkzMnz48Nx11135zW9+k7vuuisjRozIjBkzkiSXX355+vbt2+g+55xzTj7ykY8kSW666aaMGTMmU6ZMyYwZM/Kv//qvGT58eN566620atUq3/nOd9KqVatd9ImrR0AHAAAAwE7p1atXvvGNbyRJLrrooqxbt267z3zxi19MbW1tkmTChAlZs2bNVvfr6+szYcKEJEltbW0uvfTSRvd5J+RbtmxZLr/88m3uz5s3L9dee22SzaHgWWedtYOfqjgCOgAAAIAKakp7z9fuctNNN6Vz586544478thjj+3QM2eeeWaSZNasWXnqqacaXfPUU0/lhRde2Gr9lo466qjyCyDuvvvu1NfXN7rPHXfcUb4W0AEA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/13fQffggw/mBz/4Qe69995s2rRpm/vdu3fPtGnT0q9fvyTJyJEj8/jjj2+z7qijjspzzz2X2trazJgxIyNHjsyaNWvK99u3b5+pU6dmyJAhWb9+fQYMGJB58+Zts895552X2267LUly0003Zfz48Vvd79u3b37729+mS5cumTNnTgYMGJCNGze+p9+DatNBBwAAAECTzjjjjNxzzz2NhnNJsmzZslx22WXl/x4zZkyj6774xS+mtrY2STJhwoStwrkkqa+vz4QJE5IktbW1ufTSSxvd58tf/nL517388su3uT9v3rxce+21STaHgmeddValj7dHENABAAAAVFDai76K8uijj5av+/bt2+iaM888M0kya9asPPXUU42ueeqpp/LCCy9stX5LRx11VPkFEHfffXfq6+sb3WfLUVsBHQAAAAAtXtu2bcvXjY2T9unTJz179kyy+aUTlbxzv66uLr17997q3ogRI7ZZ15jFixdn9uzZSbLTb5gtQuuiCwAAAABg13gnBNueRYsW7dJfd9SoUeXrWbNmbXP/na63JOUOuaZseX/AgAGZP39+s/fp169fevXqlQ4dOmT16tUV1xdJQAcAAADQQrzzRtXtKZV23UBsqVTKV7/61fJ/33333dusqaurK19vr8aFCxeWr3v16vWe96mpqUldXV1efPHFiuuLJKADAAAAqKBUaii6hD3apZdemmHDhiVJ7r333sycOXObNZ07dy5fr1y5suJ+q1atKl936tSpKvvsaQR0AAAAAC3Elh1mu8PIkSPzzW9+M8nmc98uvvjiRte1a9eufL1u3bqKe65du7Z83b59+6rss6cR0AEAAAC0ELv6bLlKBg4cmMmTJ6e2tjb19fX5zGc+k9dff73RtWvWrClft2nTpuK+W75w4t1vaX33PluGcDuzz55GQAcAAABQwa47ra3l6N27d/7zP/8z3bp1y4YNGzJ27Ng8/vjjTa5fsWJF+Xp746YdO3YsX797jPXd+1QK6Crts6epKboAAAAAAPYehxxySB555JH07NkzmzZtyuc///n8+Mc/rvjMli902N4Y7pYvhtjyhRHN3WfTpk07/PKMogjoAAAAANgh3bt3z8MPP5y+ffsmSSZMmJAf/vCH233u+eefL1/379+/4tot78+aNes977Nw4cKsXr16uzUWSUAHAAAAUEGptPd8VdN+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OgAAAICK9DdRXX7CAAAAAKBAAjoAAAAAKJARVwAAAIAKSikVXQItnA46AAAAACiQgA4AAAAACmTEFQAAAKAiI65Ulw46AAAAACiQgA4AAAAACiSgAwAAAIACOYMOAAAAoIJSyRl0VJcOOgAAAAAokIAOAAAAAApkxBUAAACgIv1NVJefMAAAAAAokIAOAAAAAApkxBUAAACgglK8xZXq0kEHAAAAAAUS0AEAAABAgQR0AAAAAFCgUpKGoosA2Nv17Nkzr7zySpKkrq4uixYtKrgiANg7+TMVgH2RDjoAAAAAKJCADgAAAAAKJKADAAAAgAIJ6AAAAACgQAI6AAAAACiQgA4AAAAACiSgAwAAAIACCegAAAAAoEACOgAAAAAoUClJQ9FFAAAAAMC+SgcdAAAAABRIQAcAAAAABRLQAQAAAECBBHQAAAAAUCABHQAAAAAUSEAHAAAAAAUS0AEAAABAgQR0AAAAAFAgAR0AAAAAFEhABwAAAAAFEtABvEeHHXZYbrjhhsyaNSsrV67MsmXLMn369Hz5y19O+/btiy4PAPZoBx54YE477bRcddVVeeihh/L666+noaEhDQ0Nuf3224suDwB2i9ZFFwCwNzv99NPzox/9KF26dCl/r2PHjunWrVuGDBmScePG5bTTTsu8efMKrBIA9lxLliwpugQAKJwOOoBmOu6443LXXXelS5cuWbFiRb72ta/lwx/+cE488cTccsstSZJ+/frlpz/9aTp16lRwtQCw51uwYEGmTJlSdBkAsNvpoANopm9/+9vp0KFD1q9fn5NPPjm//vWvy/ceffTRzJkzJ9dff3369euXyy67LFdddVWB1QLAnumqq67KjBkzMmPGjCxZsiSHH3545s+fX3RZALBblZI0FF0EwN5myJAhmT59epLk5ptvzsUXX7zNmlKplD/84Q8ZOHBgli9fnh49emTDhg27u1QA2KtsGdDdcccdOe+884otCAB2AyOuAM3wqU99qnzd1AHWDQ0N+cEPfpAk6dq1az72sY/tjtIAAADYywjoAJphxIgRSZKVK1fmt7/9bZPrpk6dWr4ePnx41esCAABg7yOgA2iGAQMGJEnmzp2bjRs3NrnuhRde2OYZAAAA2JKADmAntW3bNgceeGCS5JVXXqm49s0338zKlSuTJL169ap6bQAAAOx9BHQAO6lz587l63fCt0pWrVqVJOnUqVPVagIAAGDvJaAD2Ent2rUrX69bt26769euXZskad++fdVqAgAAYO8loAPYSWvWrClft2nTZrvr27ZtmySpr6+vWk0AAADsvQR0ADtpxYoV5esdGVvt2LFjkh0bhwUAAGDfI6AD2Elr167N0qVLkyR1dXUV1+6///7lEG/hwoVVrw0AAIC9j4AOoBmef/75JMmRRx6ZVq1aNbmuf//+5etZs2ZVvS4AAAD2PgI6gGZ44oknkmwecR08eHCT60aNGlW+njZtWtXrAgAAYO8joANohvvvv798fd555zW6plQq5XOf+1ySZPny5Xn00Ud3R2kAAADsZQR0AM0wY8aMPPbYY0mS888/P8cff/w2ay677LIMHDgwSfLtb387GzZs2K01AgAAsHcoJWkougiAvdFxxx2XadOmpUOHDlmxYkX++Z//OY8++mjat2+fsWPH5sILL0ySzJ49Ox/60Ie8xRUAGjF8+PAceeSR5f8+4IADcsMNNyTZfKTE97///a3W33nnnbu1PgDYHQR0AO/B6aefnh/96Efp0qVLo/dnz56d0047LfPmzdvNlQHA3uH222/Pueeeu8PrS6VS9YoBgIIYcQV4D37yk5/k/e9/f/7lX/4ls2fPzqpVq7J8+fLMmDEjf/d3f5cPfvCDwjkAAAAq0kEHAAAAAAXSQQcAAAAABRLQAQAAAECBBHQAAAAAUCABHQAAAAAUSEAHAAAAAAUS0AEAAABAgQR0AAAAAFAgAR0AAAAAFEhABwAAAAAFEtABAAAAQIEEdAAAAABQIAEdAAAAABRIQAcAAAAABRLQAQAAAECBBHQAAAAAUCABHQAAAAAUSEAHAAAAAAUS0AEAAABAgQR0AAAAAFAgAR0AAAAAFEhABwAAAAAFEtABAAAAQIEEdAAAAABQIAEdAAAAABTo/wIICF+zel3gEwAAAABJRU5ErkJggg==\", \"__metadata__\": {\"image/png\": {\"width\": 628, \"height\": 533}}}"}, "type": "data"}]}, {"code_hash": "a01f40fb673b79f8222e0d333f58afbe", "console": [{"mimetype": "text/plain", "name": "stdout", "text": "              precision    recall  f1-score   support\n\n         Ham       0.97      0.99      0.98      1033\n        Spam       0.97      0.92      0.94       417\n\n    accuracy                           0.97      1450\n   macro avg       0.97      0.95      0.96      1450\nweighted avg       0.97      0.97      0.97      1450\n\n", "type": "stream"}], "id": "jxvo", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "b25958e2f585b043e8e6f0b581b81414", "console": [], "id": "mWxS", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"iv-model-analysis\"\u003EIV. Model analysis\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EWe take a look into our model and see its decision-making.\u003C/span\u003E\n\u003Ch2 id=\"1-important-words\"\u003E1. Important words\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EThe charts show top 20 words for words that are likely in ham and spam emails.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "aa2f89d84265050a53017030ddd08e4b", "console": [], "id": "YWSi", "outputs": [{"data": {"text/html": "\u003Cdiv style=\"display: flex;flex: 1;flex-direction: row;justify-content: center;align-items: normal;flex-wrap: nowrap;gap: 0.5rem\"\u003E\u003Cdiv style=\"flex: 1\"\u003E\u003Cmarimo-ui-element object-id=\"YWSi-0\" random-id=\"1e79eed1-a7c2-8031-216f-b0d0d5938728\"\u003E\u003Cmarimo-vega data-initial-value=\"{}\" data-label=\"null\" data-spec=\"{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;./@file/2698-23769-0lbExjqD.arrow\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;color\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;weight\u0026quot;,\u0026quot;scale\u0026quot;:{\u0026quot;reverse\u0026quot;:true,\u0026quot;scheme\u0026quot;:\u0026quot;greens\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;log\u0026quot;},\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;word\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;weight\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;weight\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;word\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;null\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:600,\u0026quot;title\u0026quot;:\u0026quot;Ham words\u0026quot;,\u0026quot;width\u0026quot;:\u0026quot;container\u0026quot;,\u0026quot;$schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}\" data-chart-selection=\"true\" data-field-selection=\"true\" data-embed-options=\"{}\"\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv style=\"flex: 1\"\u003E\u003Cmarimo-ui-element object-id=\"YWSi-1\" random-id=\"834b2ddd-bcc4-8880-22a6-25d38f12bc51\"\u003E\u003Cmarimo-vega data-initial-value=\"{}\" data-label=\"null\" data-spec=\"{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;./@file/2722-23769-97SRdEEr.arrow\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;color\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;weight\u0026quot;,\u0026quot;scale\u0026quot;:{\u0026quot;scheme\u0026quot;:\u0026quot;reds\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;log\u0026quot;},\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;word\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;weight\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;weight\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;word\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;null\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:600,\u0026quot;title\u0026quot;:\u0026quot;Spam words\u0026quot;,\u0026quot;width\u0026quot;:\u0026quot;container\u0026quot;,\u0026quot;$schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}\" data-chart-selection=\"true\" data-field-selection=\"true\" data-embed-options=\"{}\"\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "82b1d433f45399fd6077e2af5ddc8f49", "console": [], "id": "zlud", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"random-stuff\"\u003ERandom stuff\u003C/h1\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "a18b658fd9ad472bcf980e383b96b4a1", "console": [], "id": "tZnO", "outputs": []}, {"code_hash": "75646eb59f3cdba2d29cdc622e6b2cb1", "console": [], "id": "xvXZ", "outputs": []}, {"code_hash": "a043d2ac40d190c054ee013d3587a101", "console": [], "id": "CLip", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"beautiful-soup-playground\"\u003EBeautiful Soup playground\u003C/h2\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "1da8b2324fd3e9dc437533bedd4ee79c", "console": [], "id": "YECM", "outputs": []}, {"code_hash": "f01f52b6d2ef0f77f22641adf3de7a37", "console": [], "id": "cEAS", "outputs": []}, {"code_hash": "d60c9870e230ae729e3608cf7266aa25", "console": [], "id": "iXej", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"re2-playground\"\u003ERE2 playground\u003C/h2\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "a50a7186c6184e3eea30127f4ace4c9c", "console": [], "id": "EJmg", "outputs": []}, {"code_hash": "58b8988cb04363639e51452f11f53be8", "console": [], "id": "UmEG", "outputs": []}, {"code_hash": "f4477625235af3f193a9a2d29da471a4", "console": [], "id": "vEBW", "outputs": []}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.18.4%22%0Aapp%20%3D%20marimo.App(%0A%20%20%20%20width%3D%22full%22%2C%0A%20%20%20%20app_title%3D%22Spam%20Classifier%22%2C%0A%20%20%20%20auto_download%3D%5B%22ipynb%22%2C%20%22html%22%5D%2C%0A)%0A%0Awith%20app.setup%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%0A%20%20%20%20%23%20Miscellaneous%0A%20%20%20%20import%20glob%0A%20%20%20%20import%20hashlib%0A%20%20%20%20import%20os%0A%20%20%20%20import%20tarfile%0A%20%20%20%20import%20typing%0A%20%20%20%20import%20wget%0A%20%20%20%20from%20collections%20import%20Counter%0A%20%20%20%20from%20math%20import%20sqrt%0A%20%20%20%20from%20tqdm.auto%20import%20tqdm%0A%0A%20%20%20%20%23%20Data%20processing%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20import%20re%0A%20%20%20%20import%20re2%0A%20%20%20%20import%20spacy%0A%20%20%20%20import%20spacy_transformers%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20from%20bs4%20import%20BeautifulSoup%0A%20%20%20%20import%20mailparser%0A%0A%20%20%20%20%23%20Plotting%0A%20%20%20%20import%20altair%20as%20alt%0A%20%20%20%20import%20matplotlib.pyplot%20as%20plt%0A%20%20%20%20import%20seaborn%20as%20sns%0A%0A%20%20%20%20%23%20Scikit-learn%0A%20%20%20%20from%20sklearn.feature_extraction.text%20import%20TfidfVectorizer%0A%20%20%20%20from%20sklearn.model_selection%20import%20train_test_split%0A%20%20%20%20from%20sklearn.linear_model%20import%20LogisticRegression%0A%20%20%20%20from%20sklearn%20import%20metrics%0A%0A%0A%20%20%20%20%23%20Load%20NLP%20module%0A%20%20%20%20print(spacy.prefer_gpu())%0A%20%20%20%20nlp%20%3D%20spacy.load(%22en_core_web_trf%22)%0A%20%20%20%20nlp.add_pipe(%22merge_entities%22%2C%20after%3D%22ner%22)%0A%0A%20%20%20%20ruler%20%3D%20nlp.add_pipe(%22entity_ruler%22%2C%20before%3D%22ner%22)%0A%20%20%20%20patterns%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%7B%22label%22%3A%20%22TIME%22%2C%20%22pattern%22%3A%20%5B%7B%22SHAPE%22%3A%20%22dd%3Add%3Add%22%7D%5D%7D%2C%0A%20%20%20%20%5D%0A%20%20%20%20ruler.add_patterns(patterns)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20Hi%20there!%0A%0A%20%20%20%20This%20is%20the%20notebook%20for%20our%20Machine%20Learning%20project.%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20Let's%20take%20a%20look%20at%20the%20table%20of%20content%20(it%20is%20also%20available%20on%20the%20right%20side%20of%20the%20screen)%3A%0A%0A%20%20%20%20I.%20Data%20Acquisition%0A%20%20%20%20-%20Download%20dataset%0A%20%20%20%20-%20Load%20whole%20dataset%0A%20%20%20%20-%20Preprocess%20email%0A%0A%20%20%20%20II.%20Feature%20Engineering%0A%20%20%20%20-%20Additional%20features%20to%20consider%0A%0A%20%20%20%20III.%20Training%0A%20%20%20%20-%20Train%20time%0A%20%20%20%20-%20Confusion%20time%0A%0A%20%20%20%20IV.%20Model%20Analysis%0A%0A%20%20%20%20**Let's%20get%20started!**%0A%0A%20%20%20%20%F0%9F%92%A1%20Tips%3A%20Click%20%E2%96%B6%EF%B8%8F%20in%20the%20down%20right%20corner.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20I.%20Data%20Acquisition%0A%0A%20%20%20%20In%20this%20section%2C%20we%20obtain%20the%20data%20from%20the%20Apache's%20SpamAssassin%20Public%20Corpus%20and%20read%20them.%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20After%20that%2C%20we%20can%20load%20all%20emails%20into%20a%20DataFrame.%0A%0A%20%20%20%20%23%23%201.%20Download%20dataset%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20dataset_source%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'easy_ham'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'url'%3A%20%22https%3A%2F%2Fspamassassin.apache.org%2Fold%2Fpubliccorpus%2F20030228_easy_ham.tar.bz2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'count'%3A%202500%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'is_spam'%3A%20False%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20'easy_ham_2'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'url'%3A%20%22https%3A%2F%2Fspamassassin.apache.org%2Fold%2Fpubliccorpus%2F20030228_easy_ham_2.tar.bz2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'count'%3A%201400%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'is_spam'%3A%20False%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20'hard_ham'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'url'%3A%20%22https%3A%2F%2Fspamassassin.apache.org%2Fold%2Fpubliccorpus%2F20030228_hard_ham.tar.bz2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'count'%3A%20250%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'is_spam'%3A%20False%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20'spam'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'url'%3A%20%22https%3A%2F%2Fspamassassin.apache.org%2Fold%2Fpubliccorpus%2F20030228_spam.tar.bz2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'count'%3A%20500%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'is_spam'%3A%20True%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20'spam_2'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'url'%3A%20%22https%3A%2F%2Fspamassassin.apache.org%2Fold%2Fpubliccorpus%2F20050311_spam_2.tar.bz2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'count'%3A%201396%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'is_spam'%3A%20True%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20dataset_dir%20%3D%20%22.%2Fdatasets%2F%22%0A%0A%20%20%20%20if%20not%20os.path.exists(dataset_dir)%3A%0A%20%20%20%20%20%20%20%20os.mkdir(dataset_dir)%0A%0A%0A%20%20%20%20def%20download_dataset(dataset_path%3A%20str%2C%20dataset_url%3A%20str)%3A%0A%20%20%20%20%20%20%20%20tmp%20%3D%20wget.download(dataset_url)%0A%0A%20%20%20%20%20%20%20%20with%20tarfile.open(tmp%2C%20%22r%3Abz2%22)%20as%20tar%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20tar.extractall(dataset_dir)%0A%0A%20%20%20%20%20%20%20%20os.remove(os.path.join(dataset_path%2C%20%22cmds%22))%0A%20%20%20%20%20%20%20%20os.remove(tmp)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20a.%20Define%20dataset%20source%20and%20download%20function%0A%0A%20%20%20%20We%20have%205%20files%3A%0A%0A%20%20%20%20-%20easy_ham%20(2500%20ham%20emails)%0A%20%20%20%20-%20easy_ham_2%20(1400%20ham%20emails)%0A%20%20%20%20-%20hard_ham%20(250%20ham%20emails)%0A%20%20%20%20-%20spam%20(500%20spam%20emails)%0A%20%20%20%20-%20spam_2%20(1396%20spam%20emails)%20*Although%20they%20said%20there%20were%201397%20emails%2C%20there%20are%20only%201396%20files%20in%20the%20extracted%20folder.*%0A%0A%20%20%20%20Our%20download%20function%20will%20download%20the%20files%20and%20extract%20into%20%60.%2Fdatasets%2F%60%20folder.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20dataset_dir%2C%20dataset_source%2C%20download_dataset%0A%0A%0A%40app.cell%0Adef%20_(dataset_dir%2C%20dataset_source%2C%20download_dataset)%3A%0A%20%20%20%20for%20_dataset_name%2C%20_dataset_info%20in%20dataset_source.items()%3A%0A%20%20%20%20%20%20%20%20_dataset_path%20%3D%20os.path.join(dataset_dir%2C%20_dataset_name)%0A%0A%20%20%20%20%20%20%20%20if%20os.path.exists(_dataset_path)%3A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20len(os.listdir(_dataset_path))%20!%3D%20_dataset_info%5B'count'%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Dataset%20%7B_dataset_name%7D%20is%20missing%20some%20files%2C%20let's%20redownload.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20download_dataset(_dataset_name%2C%20_dataset_info%5B'url'%5D)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20_filename%20in%20os.listdir(_dataset_path)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_file_path%20%3D%20os.path.join(_dataset_path%2C%20_filename)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20os.path.isfile(_file_path)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_md5_hash%20%3D%20hashlib.md5(open(_file_path%2C%20'rb').read()).hexdigest()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_provided_hash%20%3D%20_filename.split(%22.%22)%5B1%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Ignore%20wrong%20hash%20from%20source%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(_md5_hash%20!%3D%20_provided_hash%20and%20_provided_hash%20!%3D%20%22244a63cd74c81123ef26129453e32c95%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Hash%20mismatch%20for%20%7B_filename%7D%2C%20redownloading%20dataset%20%7B_dataset_name%7D...%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20download_dataset(_dataset_name%2C%20_dataset_info%5B'url'%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20os.remove(os.path.join(_dataset_path%2C%20_filename))%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%0A%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Missing%20dataset%20%7B_dataset_name%7D%2C%20downloading%20it%20now...%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20download_dataset(_dataset_path%2C%20_dataset_info%5B'url'%5D)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20b.%20Check%20dataset%20integrity%0A%0A%20%20%20%20The%20file%20name%20of%20each%20email%20is%20its%20MD5%20hash.%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20We%20can%20use%20it%20to%20verify%20the%20integrity%20of%20the%20dataset.%0A%0A%20%20%20%20*Note%3A%20A%20file%20has%20incorrect%20hash%20from%20source%2C%20that's%20not%20our%20fault.*%0A%0A%20%20%20%20We%20will%20redownload%20the%20dataset%20if%20any%20file%20is%20corrupted%20or%20missing.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20mails%20%3D%20glob.glob(%22.%2Fdatasets%2F*%2F*%22%2C%20recursive%3DTrue)%0A%20%20%20%20idx%20%3D%20mo.ui.number(start%3D0%2C%20stop%3Dlen(mails)%20-%201%2C%20label%3D%22Number%22)%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20c.%20Viewing%20some%20emails%0A%0A%20%20%20%20Let's%20take%20a%20look%20at%20some%20emails%20that%20we've%20got.%0A%0A%20%20%20%20To%20save%20us%20some%20hassle%2C%20we%20won't%20be%20looking%20as%20raw%20email%20files%20(feel%20free%20to%20look%20at%20them%2C%20though!)%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20However%2C%20we%20will%20be%20using%20the%20%60mailparser%60%20library%20to%20parse%20the%20emails.%0A%0A%20%20%20%20What%20we%20care%20about%3A%0A%0A%20%20%20%20-%20Subject%0A%20%20%20%20-%20Plain%20text%20content%0A%20%20%20%20-%20HTML%20content%0A%0A%20%20%20%20%F0%9F%92%A1%20Tips%3A%20Click%20%22Fullscreen%22%20or%20%22Expand%20output%22%20button%20(they%20will%20appear%20on%20the%20right%20side%20when%20you%20hover%20the%20box%20below).%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20Modify%20the%20number%20to%20view%20different%20emails.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20idx%2C%20mails%0A%0A%0A%40app.cell%0Adef%20_(idx%2C%20mails)%3A%0A%20%20%20%20mail%20%3D%20mailparser.parse_from_file(mails%5Bidx.value%5D)%0A%0A%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20idx%2C%0A%20%20%20%20%20%20%20%20mo.md(f%22%22%22%0A%20%20%20%20Path%3A%20%60%7Bmails%5Bidx.value%5D%7D%60%0A%0A%20%20%20%20%60%60%60text%0A%20%20%20%20--%20SUBJ%20--%0A%20%20%20%20%7Bmail.subject%7D**%0A%20%20%20%20--%20TEXT%20--%0A%20%20%20%20%7B%22---%5Cn%5Cn---%22.join(mail.text_plain)%20if%20mail.text_plain%20else%20%22%3CNo%20plain%20text%20content%3E%22%7D%0A%20%20%20%20--%20HTML%20--%0A%20%20%20%20%7Bmail.text_html%20if%20mail.text_html%20else%20%22%3CNo%20HTML%20content%3E%22%7D%0A%20%20%20%20%60%60%60%0A%20%20%20%20%22%22%22)%0A%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(dataset_dir)%3A%0A%20%20%20%20dataset_checkpoints%20%3D%20%7B%0A%20%20%20%20%20%20%20%20'orig'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'description'%3A%20%22Dataset%20without%20preprocessing%20(6046%20entries)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'checksum'%3A%20%226ab4e23a696aeac72ad3b38396666a25%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20'pre_cleaned'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'description'%3A%20%22Dataset%20after%20pre-cleanup%20(5851%20entries)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'checksum'%3A%20%22589f556bc02bdeaa376ca92a99e9755c%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20'post_cleaned'%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'description'%3A%20%22Dataset%20after%20post-cleanup%20(5851%20entries)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'checksum'%3A%20%22d972cc17841c34ed3f73c1bd3e3fad62%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20def%20load_dataset(checkpoint%3A%20str)%20-%3E%20pd.DataFrame%3A%0A%20%20%20%20%20%20%20%20dataset_path%20%3D%20os.path.join(dataset_dir%2C%20f%22%7Bcheckpoint%7D.gzip%22)%0A%0A%20%20%20%20%20%20%20%20if%20not%20os.path.exists(dataset_path)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20raise%20FileNotFoundError(f%22No%20checkpoint%20'%7Bcheckpoint%7D'%20in%20%7Bdataset_dir%7D%22)%0A%0A%20%20%20%20%20%20%20%20hash%20%3D%20hashlib.md5(open(dataset_path%2C%20'rb').read()).hexdigest()%0A%20%20%20%20%20%20%20%20if%20hash%20!%3D%20dataset_checkpoints%5Bcheckpoint%5D%5B'checksum'%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Expected%3A%20%7Bdataset_checkpoints%5Bcheckpoint%5D%5B'checksum'%5D%7D%2C%20got%3A%20%7Bhash%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Dataset%20file%20broken.%22)%0A%0A%20%20%20%20%20%20%20%20data%20%3D%20pd.read_parquet(dataset_path)%0A%20%20%20%20%20%20%20%20return%20data%0A%0A%20%20%20%20def%20save_dataset(df%3A%20pd.DataFrame%2C%20checkpoint_name%3A%20str)%3A%0A%20%20%20%20%20%20%20%20path%20%3D%20os.path.join(dataset_dir%2C%20f%22%7Bcheckpoint_name%7D.gzip%22)%0A%20%20%20%20%20%20%20%20df.to_parquet(%0A%20%20%20%20%20%20%20%20%20%20%20%20path%3Dpath%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20compression%3D'gzip'%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20hash%20%3D%20hashlib.md5(open(path%2C%20'rb').read()).hexdigest()%0A%20%20%20%20%20%20%20%20print(f%22File%3A%20%7Bpath%7D%5CnMD5%3A%20%7Bhash%7D%22)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%202.%20Load%20whole%20dataset%0A%0A%20%20%20%20Now%20let's%20load%20everything%20into%20a%20DataFrame.%0A%0A%20%20%20%20Let's%20understand%20why%20we%20need%20checkpoints.%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20We%20don't%20want%20to%20reprocess%20the%20dataset%20every%20time%20we%20run%20the%20notebook%2C%20so%20we%20will%20save%20the%20processed%20dataset%20into%20a%20file.%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20In%20subsequent%20runs%2C%20we%20can%20just%20load%20it%20back.%0A%0A%20%20%20%20Here%20we%20have%20some%20checkpoints%20and%20some%20functions%20to%20save%20and%20load%20datasets.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20load_dataset%2C%20save_dataset%0A%0A%0A%40app.cell%0Adef%20_(dataset_dir%2C%20dataset_source%2C%20load_dataset%2C%20save_dataset)%3A%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20df%20%3D%20load_dataset('orig')%0A%0A%20%20%20%20except%20(FileNotFoundError%2C%20ValueError)%20as%20e%3A%0A%20%20%20%20%20%20%20%20data%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'subject'%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'text'%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'html'%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'label'%3A%20%5B%5D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20for%20_dataset_name%2C%20_dataset_info%20in%20dataset_source.items()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_dataset_path%20%3D%20os.path.join(dataset_dir%2C%20_dataset_name)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20os.path.exists(_dataset_path)%3A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20_filename%20in%20os.listdir(_dataset_path)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_file_path%20%3D%20os.path.join(_dataset_path%2C%20_filename)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20os.path.isfile(_file_path)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_mail%20%3D%20mailparser.parse_from_file(_file_path)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22Error%20with%20file%20%7B_file_path%7D%3A%20%7Be%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%5B'subject'%5D.append(_mail.subject)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%5B'text'%5D.append(%22%5Cn%22.join(_mail.text_plain))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%5B'html'%5D.append(%22%5Cn%22.join(_mail.text_html))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%5B'label'%5D.append(int(_dataset_info%5B'is_spam'%5D))%0A%0A%20%20%20%20%20%20%20%20print(f%22%7Bstr(e)%7D%5CnLoading%20from%20files...%22)%0A%0A%20%20%20%20%20%20%20%20df%20%3D%20pd.DataFrame(data)%0A%20%20%20%20%20%20%20%20save_dataset(df%2C%20'orig')%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20We%20use%20%60mailparser%60%20to%20parse%206k%2B%20emails%20into%20a%20DataFrame%2C%20and%20save%20it%20for%20later.%0A%0A%20%20%20%20We%20will%20only%20do%20that%20when%20the%20checkpoint%20isn't%20available%2C%20or%20is%20somehow%20broken.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(df%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%203.%20Preprocess%20email%0A%0A%20%20%20%20A%20little%20rant%20about%20how%20ML%20works%20in%20this%20problem%3A%0A%0A%20%20%20%20-%20Emails%20are%20broken%20into%20'tokens'.%20Tokens%20are%20words%20(in%20simple%20form)%2C%20or%20special%20ones.%0A%20%20%20%20-%20The%20tokens%20are%20the%20features%20for%20the%20model.%0A%0A%20%20%20%20Here's%20what%20we%20need%20to%20do%3A%0A%0A%20%20%20%201.%20Remove%20duplicates%20from%20raw%20dataset.%0A%20%20%20%202.%20Find%20and%20replace%20certain%20tokens%20with%20regex%20(email%2C%20addresses%2C%20phone%20number%2C%20etc.)%0A%20%20%20%203.%20Find%20and%20replace%20proper%20noun%20tokens%20(entities).%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20a.%20Data%20exploration%20notes%0A%0A%20%20%20%20-%20High%20correlation%3A%20HTML%20usage%20and%20spam%0A%20%20%20%20-%20Dataset%20artifact%3A%20a%20lot%20of%20spam%20emails%20have%20this%3A%0A%0A%20%20%20%20%60%60%60text%0A%20%20%20%20--DeathToSpamDeathToSpamDeathToSpam--%0A%20%20%20%20%60%60%60%0A%0A%20%20%20%20-%20There%20might%20be%20(mostly%20in%20spam%20emails)%20forms%20with%20%60_____%60%20blanks.%0A%20%20%20%20-%20Mailing%20list%20footer%20should%20be%20removed%2C%20they%20mostly%20appear%20in%20ham%20emails.%0A%0A%20%20%20%20%60%60%60text%0A%20%20%20%20-------------------------------------------------------%0A%20%20%20%20This%20sf.net%20email%20is%20sponsored%20by%3AThinkGeek%0A%20%20%20%20Welcome%20to%20geek%20heaven.%0A%20%20%20%20http%3A%2F%2Fthinkgeek.com%2Fsf%0A%20%20%20%20_______________________________________________%0A%20%20%20%20Spamassassin-talk%20mailing%20list%0A%20%20%20%20Spamassassin-talk%40lists.sourceforge.net%0A%20%20%20%20https%3A%2F%2Flists.sourceforge.net%2Flists%2Flistinfo%2Fspamassassin-talk%0A%20%20%20%20%60%60%60%0A%0A%20%20%20%20-%20~~Email%20replies%20appear%20with%20%60%3E%20%60%20or%20%60--%5D%20%60%2C%20and%20%22On%20DATE%2C%20USER%20wrote%3A%22~~%20Nvm%2C%20it's%20pretty%20random.%0A%20%20%20%20-%20Mailling%20list%20(or%20some%20name)%20in%20subject%20that%20is%20not%20filtered%20(like%20ilug)%0A%20%20%20%20-%20Entity%20labels%20exclusion%3A%20%22CARDINAL%22%2C%20%22ORDINAL%22%0A%20%20%20%20-%20Some%20emails%20are%20malformed%2C%20they%20are%20extremely%20long%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df)%3A%0A%20%20%20%20deduplicated_df%20%3D%20df.drop_duplicates(subset%3D%5B'text'%2C%20'html'%5D)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20b.%20Remove%20duplicates%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(deduplicated_df%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20c.%20Preprocess%20preview%0A%0A%20%20%20%20This%20is%20merely%20the%20scratchpad%20for%20whatever%20we%20want%20to%20do%20with%20these%20emails.%0A%0A%20%20%20%20Change%20the%20number%20to%20view%20different%20emails%2C%20just%20like%20above.%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20*(Also%20don't%20forget%20to%20use%20fullscreen%20or%20expand%20output)*%0A%0A%20%20%20%20The%20first%20column%20contains%20subject%20%2B%20plain%20text%20%2B%20parsed%20HTML%20(more%20information%20down%20below).%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20The%20second%20column%20shows%20how%20each%20token%20is%20transformed%20(in%20%60nlp_pipeline%60%20section%20down%20below).%0A%20%20%20%20%3Cbr%3E%0A%20%20%20%20The%20third%20one%20shows%20the%20results.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20artifact_cleanup%2C%0A%20%20%20%20deduplicated_df%2C%0A%20%20%20%20html_cleanup%2C%0A%20%20%20%20idx%2C%0A%20%20%20%20merge_text_html%2C%0A%20%20%20%20nlp_pipeline%2C%0A%20%20%20%20subject_cleanup%2C%0A)%3A%0A%20%20%20%20_tfidf%20%3D%20TfidfVectorizer()%0A%20%20%20%20_entry%20%3D%20deduplicated_df.iloc%5Bidx.value%5D%0A%0A%20%20%20%20_clean_subj%20%3D%20subject_cleanup(_entry%5B'subject'%5D)%0A%20%20%20%20_clean_html%20%3D%20html_cleanup(_entry%5B'html'%5D)%0A%20%20%20%20_merged_text%20%3D%20merge_text_html(_entry%5B'text'%5D%2C_entry%5B'html'%5D)%0A%20%20%20%20_text%20%3D%20f%22%7B_clean_subj%7D%5Cn%7B_merged_text%7D%22%0A%0A%20%20%20%20_text_2%20%3D%20artifact_cleanup(_text)%0A%0A%20%20%20%20_doc%20%3D%20nlp(_text_2)%0A%20%20%20%20_debug_text%20%3D%20nlp_pipeline(_doc%2C%20debug%3DTrue)%0A%20%20%20%20_new_text%20%3D%20nlp_pipeline(_doc)%0A%0A%0A%20%20%20%20_table2%20%3D%20mo.ui.table(%0A%20%20%20%20%20%20%20%20data%3D%5B%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Token%22%3A%20token.text%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Lemma%22%3A%20token.lemma_%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22PoS%22%3A%20token.pos_%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Tag%22%3A%20token.tag_%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Entity%22%3A%20token.ent_type_%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Stop%20word%22%3A%20token.is_stop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22URL%22%3A%20token.like_url%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Email%22%3A%20token.like_email%0A%20%20%20%20%20%20%20%20%7D%20for%20token%20in%20_doc%5D%2C%0A%20%20%20%20%20%20%20%20label%3D%22Tokens%22%2C%0A%20%20%20%20%20%20%20%20pagination%3DTrue%2C%0A%20%20%20%20%20%20%20%20wrapped_columns%3D%5B%22Token%22%2C%20%22Lemma%22%5D%0A%20%20%20%20)%0A%0A%0A%20%20%20%20if%20len(_new_text)%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20_new_text%20%3D%20%22_%3CEMPTY%3E_%22%0A%0A%20%20%20%20_results%20%3D%20_tfidf.fit_transform(%5B_new_text%5D)%0A%20%20%20%20_vocab%20%3D%20%5B%7B'word'%3A%20_word%2C%20'idx'%3A%20_idx%7D%20for%20_word%2C%20_idx%20in%20_tfidf.vocabulary_.items()%5D%0A%20%20%20%20_table%20%3D%20mo.ui.table(data%3D_vocab%2C%20label%3D%22TF-IDF%22%2C%20pagination%3DTrue)%0A%0A%0A%20%20%20%20mo.vstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22Label%3A%20%7B%22Ham%22%20if%20_entry%5B'label'%5D%20%3D%3D%200%20else%20%22Spam%22%7D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22%7B_clean_subj%7D%5Cn%7B_merged_text%7D%22.replace(%22%5Cn%22%2C%20%22%20%22))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(_debug_text.replace(%22%5Cn%22%2C%20%22%20%22))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(_new_text.replace(%22%5Cn%22%2C%20%22%20%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20widths%3D%5B1%2C%201.2%2C%200.9%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_table%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_table2%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%20widths%3D%5B1%2C%205%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22Stop%20word%20ratio%3A%20%7Blen(%5Btok%20for%20tok%20in%20_doc%20if%20tok.is_stop%5D)%20%2F%20_doc.__len__()%7D%22)%2C%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(deduplicated_df%2C%20load_dataset%2C%20pre_cleanup%2C%20save_dataset)%3A%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%23raise(ValueError(%22Code%20changed.%20Rebuilding%20dataset...%22))%0A%20%20%20%20%20%20%20%20pre_cleaned_df%20%3D%20load_dataset('pre_cleaned')%0A%0A%20%20%20%20except%20(FileNotFoundError%2C%20ValueError)%20as%20e%3A%0A%20%20%20%20%20%20%20%20tqdm.pandas(desc%3D%22Running%20pre_cleanup%22%2C%20ncols%3D100)%0A%0A%20%20%20%20%20%20%20%20pre_cleaned_df%20%3D%20pd.DataFrame(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'text'%3A%20deduplicated_df.progress_apply(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lambda%20x%3A%20pre_cleanup(x%5B'subject'%5D%2C%20x%5B'text'%5D%2C%20x%5B'html'%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20axis%3D1%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'label'%3A%20deduplicated_df%5B'label'%5D%0A%20%20%20%20%20%20%20%20%7D)%0A%0A%20%20%20%20%20%20%20%20save_dataset(pre_cleaned_df%2C%20'pre_cleaned')%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20d.%20Pre%20cleanup%0A%0A%20%20%20%20Find%20and%20replace%20certain%20tokens%20with%20regex%20(email%2C%20addresses%2C%20phone%20number%2C%20etc.)%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(pre_cleaned_df%2C)%0A%0A%0A%40app.cell%0Adef%20_(artifact_cleanup%2C%20merge_text_html%2C%20subject_cleanup)%3A%0A%20%20%20%20def%20pre_cleanup(subject%3A%20str%2C%20text%3A%20str%2C%20html%3A%20str)%3A%0A%20%20%20%20%20%20%20%20clean_subj%20%3D%20subject_cleanup(subject)%0A%20%20%20%20%20%20%20%20merged_text%20%3D%20merge_text_html(text%2C%20html)%0A%0A%20%20%20%20%20%20%20%20pass_1%20%3D%20f%22%7Bclean_subj%7D%5Cn%7Bmerged_text%7D%22%0A%20%20%20%20%20%20%20%20pass_2%20%3D%20artifact_cleanup(pass_1)%0A%0A%20%20%20%20%20%20%20%20return%20pass_2%0A%20%20%20%20return%20(pre_cleanup%2C)%0A%0A%0A%40app.cell%0Adef%20_(html_cleanup)%3A%0A%20%20%20%20def%20merge_text_html(text%3A%20str%2C%20html%3A%20str%2C%20threshold%20%3D%200.95)%20-%3E%20str%3A%0A%20%20%20%20%20%20%20%20if%20len(html)%20!%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20html_cleanup(html)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Some%20texts%20has%20leftover%20HTML%20somehow%0A%20%20%20%20%20%20%20%20%20%20%20%20text%20%3D%20html_cleanup(text)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20len(text)%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20html%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20similarity%20%3D%20cosine_similarity(text%2C%20html)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20similarity%20%3E%3D%20threshold%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20text%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20f%22%7Btext%7D%5Cn%7Bhtml%7D%22%0A%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20html_cleanup(text)%0A%20%20%20%20return%20(merge_text_html%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20%23%20url_pattern%20%3D%20re.compile(%0A%20%20%20%20%23%20%20%20%20%20r%22((http%7Cftp%7Chttps)%3A%5C%2F%5C%2F)%3F(%5B%5Cw_-%5D%2B(%3F%3A%5C.%5B%5Cw_-%5D%2B)*%5C.%5Ba-zA-Z_-%5D%5B%5Cw_-%5D%2B)(%5B%5Cw.%2C%40%3F%5E%3D%25%26%3A%5C%2F~%2B%23-%5D*%5B%5Cw%40%3F%5E%3D%25%26%5C%2F~%2B%23-%5D)%22%0A%20%20%20%20%23%20)%0A%0A%20%20%20%20%23%20Remove%20mailing%20list%20information%0A%20%20%20%20subject_cleanup_pattern%20%3D%20re2.compile(%0A%20%20%20%20%20%20%20%20r%22%5C%5B.*%3F%5C%5D%22%0A%20%20%20%20)%0A%0A%0A%20%20%20%20def%20artifact_cleanup(text)%3A%0A%20%20%20%20%20%20%20%20artifact%20%3D%20%22--DeathToSpamDeathToSpamDeathToSpam--%22%0A%20%20%20%20%20%20%20%20return%20text.replace(artifact%2C%20%22%22)%0A%0A%0A%20%20%20%20def%20subject_cleanup(text%3A%20str)%20-%3E%20str%3A%0A%20%20%20%20%20%20%20%20return%20re2.sub(%0A%20%20%20%20%20%20%20%20%20%20%20%20pattern%3Dsubject_cleanup_pattern%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3Dtext%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20repl%3D%22%22%0A%20%20%20%20%20%20%20%20).strip()%0A%0A%0A%20%20%20%20def%20html_cleanup(html)%3A%0A%20%20%20%20%20%20%20%20if%20pd.isna(html)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%22%0A%0A%20%20%20%20%20%20%20%20soup%20%3D%20BeautifulSoup(html%2C%20'html5lib')%0A%0A%20%20%20%20%20%20%20%20%23%20Artificially%20add%20_URL_%20tokens%0A%20%20%20%20%20%20%20%20return%20soup.get_text(separator%3D%22%20%22%2C%20strip%3DTrue)%20%2B%20%22%20google.com%22%20*%20len(soup.find_all('a'))%0A%20%20%20%20return%20artifact_cleanup%2C%20html_cleanup%2C%20subject_cleanup%0A%0A%0A%40app.function%0Adef%20cosine_similarity(s1%3A%20str%2C%20s2%3A%20str)%20-%3E%20float%3A%0A%20%20%20%20if%20len(s1)%20%3D%3D%200%20or%20len(s2)%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20return%200.0%0A%0A%20%20%20%20%23%20Convert%20strings%20to%20character%20frequency%20vectors%0A%20%20%20%20vec1%20%3D%20Counter(s1)%0A%20%20%20%20vec2%20%3D%20Counter(s2)%0A%0A%20%20%20%20%23%20Calculating%20cosine%20similarity%0A%20%20%20%20dot_product%20%3D%20sum(vec1%5Bch%5D%20*%20vec2%5Bch%5D%20for%20ch%20in%20vec1)%0A%20%20%20%20magnitude1%20%3D%20sqrt(sum(count%20**%202%20for%20count%20in%20vec1.values()))%0A%20%20%20%20magnitude2%20%3D%20sqrt(sum(count%20**%202%20for%20count%20in%20vec2.values()))%0A%20%20%20%20return%20dot_product%20%2F%20(magnitude1%20*%20magnitude2)%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20MAX_CHAR_LENGTH%2C%0A%20%20%20%20load_dataset%2C%0A%20%20%20%20nlp_pipeline%2C%0A%20%20%20%20pre_cleaned_df%2C%0A%20%20%20%20process_batches%2C%0A%20%20%20%20save_dataset%2C%0A)%3A%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%23raise(ValueError(%22Code%20changed.%20Rebuilding%20dataset...%22))%0A%20%20%20%20%20%20%20%20post_cleaned_df%20%3D%20load_dataset('post_cleaned')%0A%0A%20%20%20%20except%20(FileNotFoundError%2C%20ValueError)%20as%20e%3A%0A%20%20%20%20%20%20%20%20_post_cleaned_emails%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20_truncated_texts%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20_skipped_idx%20%3D%20%5B%5D%0A%0A%20%20%20%20%20%20%20%20for%20i%2C%20row%20in%20pre_cleaned_df.iterrows()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20len(row%5B'text'%5D)%20%3E%20MAX_CHAR_LENGTH%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_skipped_idx.append(i)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_truncated_texts.append(row%5B'text'%5D%5B%3AMAX_CHAR_LENGTH%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_truncated_texts.append(row%5B'text'%5D)%0A%0A%20%20%20%20%20%20%20%20_post_cleanup_status%20%3D%20mo.status.progress_bar(%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Running%20post_cleanup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20total%3Dlen(pre_cleaned_df)%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20with%20_post_cleanup_status%20as%20_bar%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20_doc%20in%20process_batches(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nlp%3Dnlp%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20texts%3D_truncated_texts%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20batch_size%3D5%0A%20%20%20%20%20%20%20%20%20%20%20%20)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_post_cleaned_emails.append(nlp_pipeline(_doc))%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_bar.update()%0A%0A%20%20%20%20%20%20%20%20post_cleaned_df%20%3D%20pd.DataFrame(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20'text'%3A%20_post_cleaned_emails%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20'label'%3A%20pre_cleaned_df%5B'label'%5D%0A%20%20%20%20%20%20%20%20%7D)%0A%0A%20%20%20%20%20%20%20%20pre_cleaned_df%5Bpost_cleaned_df%5B'text'%5D%20%3D%3D%20%22%22%5D%0A%20%20%20%20%20%20%20%20post_cleaned_df%20%3D%20post_cleaned_df%5Bpost_cleaned_df%5B'text'%5D%20!%3D%20%22%22%5D.reset_index(drop%3DTrue)%0A%0A%20%20%20%20%20%20%20%20save_dataset(post_cleaned_df%2C%20'post_cleaned')%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20e.%20Post%20cleanup%0A%0A%20%20%20%20Find%20and%20replace%20proper%20noun%20tokens%20(entities).%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(post_cleaned_df%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20torch%0A%0A%20%20%20%20MAX_CHAR_LENGTH%20%3D%2015000%0A%0A%0A%20%20%20%20def%20process_batches(nlp%2C%20texts%2C%20batch_size%3DNone)%3A%0A%20%20%20%20%20%20%20%20for%20i%2C%20doc%20in%20enumerate(nlp.pipe(%0A%20%20%20%20%20%20%20%20%20%20%20%20texts%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20batch_size%3Dbatch_size%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disable%3D%5B%22parser%22%5D%0A%20%20%20%20%20%20%20%20))%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20doc._.trf_data%20%3D%20None%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20yield%20doc%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20i%20%25%20batch_size%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20torch.cuda.empty_cache()%20%23%20VRAM%20explosion%0A%20%20%20%20return%20MAX_CHAR_LENGTH%2C%20process_batches%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20%23%20Email%20matching%0A%20%20%20%20email_pattern%20%3D%20re2.compile(%0A%20%20%20%20%20%20%20%20r%22%5Ba-zA-Z0-9._%25%2B-%5D%2B%40%5Ba-zA-Z0-9.-%5D%2B%5C.%5Ba-zA-Z%5D%7B2%2C%7D%22%0A%20%20%20%20)%0A%0A%20%20%20%20pgp_signature_pattern%20%3D%20re2.compile(%0A%20%20%20%20%20%20%20%20r%22(%3Fs)-----BEGIN%20PGP%20SIGNATURE-----.*%3F-----END%20PGP%20SIGNATURE-----%22%0A%20%20%20%20)%0A%0A%0A%20%20%20%20def%20nlp_pipeline(doc%3A%20spacy.tokens.Doc%2C%20stop_threshold%20%3D%200.01%2C%20debug%20%3D%20False)%20-%3E%20str%3A%0A%20%20%20%20%20%20%20%20with%20doc.retokenize()%20as%20retokenizer%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20match%20in%20email_pattern.finditer(doc.text)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20span%20%3D%20doc.char_span(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20match.start()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20match.end()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alignment_mode%3D'expand'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20span%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20retokenizer.merge(span)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20token%20in%20span%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20token.ent_type_%20%3D%20%22EMAIL%22%0A%0A%20%20%20%20%20%20%20%20with%20doc.retokenize()%20as%20retokenizer%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20match%20in%20pgp_signature_pattern.finditer(doc.text)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20span%20%3D%20doc.char_span(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20match.start()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20match.end()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alignment_mode%3D'expand'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20span%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20retokenizer.merge(span)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20token%20in%20span%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20token.ent_type_%20%3D%20%22PGP_SIG%22%0A%0A%20%20%20%20%20%20%20%20with%20doc.retokenize()%20as%20retokenizer%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20ent%20in%20doc.ents%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20ent.label_%20in%20%5B%22DATE%22%2C%20%22TIME%22%2C%20%22MONEY%22%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20retokenizer.merge(ent)%0A%0A%0A%20%20%20%20%20%20%20%20%23%20Treat%20as%20spam%0A%20%20%20%20%20%20%20%20stop_word_ratio%20%3D%20len(%5Btoken%20for%20token%20in%20doc%20if%20token.is_stop%5D)%20%2F%20doc.__len__()%0A%20%20%20%20%20%20%20%20if%20stop_word_ratio%20%3C%20stop_threshold%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22%22%0A%0A%20%20%20%20%20%20%20%20return%20%22%20%22.join(%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Btoken_processor(token%2C%20debug)%20for%20token%20in%20doc%5D%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20return%20(nlp_pipeline%2C)%0A%0A%0A%40app.function%0Adef%20token_processor(token%3A%20spacy.tokens.Token%2C%20debug%3A%20bool%20%3D%20False)%20-%3E%20str%3A%0A%20%20%20%20def%20debug_fmt(tag%3A%20str)%20-%3E%20str%3A%0A%20%20%20%20%20%20%20%20spaced_text%20%3D%20%22~%20~%22.join(token.text.split())%0A%20%20%20%20%20%20%20%20return%20f%22%7Btag%7D%20~%3C-%7Bspaced_text%7D~%22%0A%0A%20%20%20%20if%20token.is_stop%20or%20token.tag_%20%3D%3D%20%22LS%22%3A%0A%20%20%20%20%20%20%20%20return%20%22%22%20if%20not%20debug%20else%20f%22~~%7Btoken.text%7D~~%22%0A%0A%20%20%20%20if%20token.like_url%3A%0A%20%20%20%20%20%20%20%20return%20%22_url_%22%20if%20not%20debug%20else%20debug_fmt(%22_url_%22)%0A%0A%20%20%20%20if%20token.like_email%3A%0A%20%20%20%20%20%20%20%20return%20%22_email_%22%20if%20not%20debug%20else%20debug_fmt(%22_email_%22)%0A%0A%20%20%20%20if%20token.ent_type_%20and%20token.ent_type_%20not%20in%20%5B%22CARDINAL%22%2C%20%22ORDINAL%22%5D%3A%0A%20%20%20%20%20%20%20%20tag%20%3D%20f%22_%7Btoken.ent_type_%7D_%22.lower()%0A%20%20%20%20%20%20%20%20return%20tag%20if%20not%20debug%20else%20debug_fmt(tag)%0A%0A%20%20%20%20if%20token.pos_%20%3D%3D%20%22PROPN%22%3A%0A%20%20%20%20%20%20%20%20return%20%22_propn_%22%20if%20not%20debug%20else%20debug_fmt(%22_propn_%22)%0A%0A%20%20%20%20if%20token.pos_%20%3D%3D%20%22NUM%22%3A%0A%20%20%20%20%20%20%20%20return%20%22_num_%22%20if%20not%20debug%20else%20debug_fmt(%22_num_%22)%0A%0A%20%20%20%20if%20token.pos_%20%3D%3D%20%22X%22%20and%20token.tag_%20%3D%3D%20%22FW%22%3A%0A%20%20%20%20%20%20%20%20return%20%22_foreign_%22%20if%20not%20debug%20else%20debug_fmt(%22_foreign_%22)%0A%0A%20%20%20%20return%20token.lemma_%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20II.%20Features%20engineering%0A%0A%20%20%20%20%23%23%201.%20Additional%20features%20to%20consider%0A%0A%20%20%20%20-%20~~Contains%20HTML%20(boolean)~~%0A%20%20%20%20-%20Number%20of%20links%20(share%20the%20same%20token%20with%20links%20in%20text)%0A%20%20%20%20-%20~~Number%20of%20special%20characters~~%20Might%20not%20be%20a%20good%20feature%0A%20%20%20%20-%20Capitals%20ratio%0A%20%20%20%20-%20~~Email%20size~~%20(maybe%20not)%0A%20%20%20%20-%20Reply%20ratio%2C%20reply%20depth%20count%0A%20%20%20%20-%20Stop%20word%20ratio%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20def%20calc_capitals_ratio(text%3A%20str)%20-%3E%20float%3A%0A%20%20%20%20%20%20%20%20if%20len(text)%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%200.0%0A%0A%20%20%20%20%20%20%20%20capitals_count%20%3D%20sum(1%20for%20c%20in%20text%20if%20c.isupper())%0A%20%20%20%20%20%20%20%20return%20capitals_count%20%2F%20len(text)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20a.%20Capitals%20ratio%0A%0A%20%20%20%20I%20didn't%20use%20this%20yet%2C%20though.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20def%20count_special_chars(text)%3A%0A%20%20%20%20%20%20%20%20special_chars%20%3D%20%22!%40%23%24%25%5E%26*()-_%3D%2B%5B%5D%7B%7D%7C%3B%3A'%5C%22%2C.%3C%3E%3F%2F%60~%22%0A%20%20%20%20%20%20%20%20return%20sum(1%20for%20char%20in%20text%20if%20char%20in%20special_chars)%0A%0A%20%20%20%20%23df%5B'text'%5D.apply(count_special_chars)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20b.%20Number%20of%20special%20characters%0A%0A%20%20%20%20On%20second%20thought...%2C%20I%20skipped%20it.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(post_cleaned_df)%3A%0A%20%20%20%20vectorizer%20%3D%20TfidfVectorizer()%0A%0A%20%20%20%20%23%20Fit%20the%20vectorizer%20to%20the%20data%20and%20transform%20it%20into%20a%20TF-IDF%20matrix%0A%20%20%20%20tfidf_matrix%20%3D%20vectorizer.fit_transform(post_cleaned_df%5B'text'%5D)%0A%20%20%20%20tfidf_df%20%3D%20pd.DataFrame(tfidf_matrix.toarray()%2C%20columns%3Dvectorizer.get_feature_names_out())%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20c.%20TF-IDF%0A%0A%20%20%20%20Code%20copied%20from%20GeeksForGeeks%3A%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(tfidf_df%2C)%0A%0A%0A%40app.cell%0Adef%20_(post_cleaned_df%2C%20tfidf_df)%3A%0A%20%20%20%20X%20%3D%20tfidf_df%0A%20%20%20%20y%20%3D%20post_cleaned_df%5B'label'%5D%0A%0A%20%20%20%20X_train%2C%20X_test%2C%20y_train%2C%20y_test%20%3D%20train_test_split(X%2C%20y%2C%20test_size%3D0.25%2C%20random_state%3D42)%0A%0A%20%20%20%20logreg%20%3D%20LogisticRegression(max_iter%3D1000)%0A%20%20%20%20logreg.fit(X_train%2C%20y_train)%0A%0A%20%20%20%20y_pred%20%3D%20logreg.predict(X_test)%0A%0A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20III.%20Model%20training%0A%0A%20%20%20%20%23%23%201.%20Train%20time%0A%0A%20%20%20%20Here%2C%20we%20train%20our%20Logistic%20Regression%20model%20with%2075-25%20train-test%20split.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20logreg%2C%20y_pred%2C%20y_test%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%202.%20Confusion%20time%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(y_pred%2C%20y_test)%3A%0A%20%20%20%20cnf_matrix%20%3D%20metrics.confusion_matrix(y_test%2C%20y_pred)%0A%20%20%20%20cnf_matrix%0A%0A%20%20%20%20class_names%3D%5B0%2C1%5D%20%23%20name%20%20of%20classes%0A%20%20%20%20fig%2C%20ax%20%3D%20plt.subplots()%0A%20%20%20%20tick_marks%20%3D%20np.arange(len(class_names))%0A%20%20%20%20plt.xticks(tick_marks%2C%20class_names)%0A%20%20%20%20plt.yticks(tick_marks%2C%20class_names)%0A%0A%20%20%20%20%23%20create%20heatmap%0A%20%20%20%20sns.heatmap(pd.DataFrame(cnf_matrix)%2C%20annot%3DTrue%2C%20cmap%3D%22YlGnBu%22%20%2Cfmt%3D'g')%0A%20%20%20%20ax.xaxis.set_label_position(%22top%22)%0A%20%20%20%20plt.tight_layout()%0A%20%20%20%20plt.title('Confusion%20matrix'%2C%20y%3D1.1)%0A%20%20%20%20plt.ylabel('Actual%20label')%0A%20%20%20%20plt.xlabel('Predicted%20label')%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(y_pred%2C%20y_test)%3A%0A%20%20%20%20target_names%20%3D%20%5B%22Ham%22%2C%20%22Spam%22%5D%0A%20%20%20%20print(metrics.classification_report(y_test%2C%20y_pred%2C%20target_names%3Dtarget_names))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20IV.%20Model%20analysis%0A%0A%20%20%20%20We%20take%20a%20look%20into%20our%20model%20and%20see%20its%20decision-making.%0A%0A%20%20%20%20%23%23%201.%20Important%20words%0A%0A%20%20%20%20The%20charts%20show%20top%2020%20words%20for%20words%20that%20are%20likely%20in%20ham%20and%20spam%20emails.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(logreg%2C%20tfidf_df)%3A%0A%20%20%20%20features_df%20%3D%20pd.DataFrame(%7B%0A%20%20%20%20%20%20%20%20'word'%3A%20tfidf_df.columns%2C%0A%20%20%20%20%20%20%20%20'weight'%3A%20logreg.coef_%5B0%5D%0A%20%20%20%20%7D)%0A%0A%0A%20%20%20%20top_spam%20%3D%20features_df.nlargest(20%2C%20'weight')%0A%20%20%20%20top_ham%20%3D%20features_df.nsmallest(20%2C%20'weight')%0A%0A%0A%20%20%20%20plot_df%20%3D%20pd.concat(%5B%0A%20%20%20%20%20%20%20%20top_spam.assign(type%3D'Spam')%2C%0A%20%20%20%20%20%20%20%20top_ham.assign(type%3D'Ham')%0A%20%20%20%20%5D)%0A%0A%20%20%20%20plot_df%5B'type'%5D%20%3D%20plot_df%5B'weight'%5D.apply(lambda%20x%3A%20'Spam'%20if%20x%20%3E%200%20else%20'Ham')%0A%0A%0A%20%20%20%20mo.hstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.ui.altair_chart(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Chart(top_ham).mark_bar().encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3D'weight%3AQ'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3Dalt.Y('word%3AN'%2C%20sort%3D'null')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3Dalt.Color('weight%3AQ'%2C%20scale%3Dalt.Scale(scheme%3D'greens'%2C%20reverse%3DTrue%2C%20type%3D'log'))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B'word'%2C%20'weight'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).properties(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Ham%20words%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3D600%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.ui.altair_chart(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Chart(top_spam).mark_bar().encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3D'weight%3AQ'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3Dalt.Y('word%3AN'%2C%20sort%3D'null')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3Dalt.Color('weight%3AQ'%2C%20scale%3Dalt.Scale(scheme%3D'reds'%2C%20type%3D'log'))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B'word'%2C%20'weight'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).properties(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Spam%20words%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3D600%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20justify%3D'center'%2C%0A%20%20%20%20%20%20%20%20widths%3D%22equal%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%20Random%20stuff%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(pre_cleaned_df)%3A%0A%20%20%20%20mo.ui.dataframe(pre_cleaned_df)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(pre_cleaned_df)%3A%0A%20%20%20%20pre_cleaned_df%5B'text'%5D.apply(lambda%20x%3A%20len(x))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Beautiful%20Soup%20playground%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20html_input%20%3D%20mo.ui.text_area(placeholder%3D%22Paste%20HTML%20code...%22%2C%20full_width%3DTrue)%0A%20%20%20%20html_input%20%0A%20%20%20%20return%20(html_input%2C)%0A%0A%0A%40app.cell%0Adef%20_(html_input)%3A%0A%20%20%20%20soup%20%3D%20BeautifulSoup(html_input.value%2C%20'html5lib')%0A%20%20%20%20cleaned_html%20%3D%20soup.get_text(separator%3D%22%20%22%2C%20strip%3DTrue)%0A%20%20%20%20print(cleaned_html)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20RE2%20playground%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20text_input%20%3D%20mo.ui.text_area(placeholder%3D%22Paste%20text...%22%2C%20full_width%3DTrue)%0A%20%20%20%20text_input%0A%20%20%20%20return%20(text_input%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20regex_input%20%3D%20mo.ui.text(placeholder%3D%22Regex%22%2C%20full_width%3DTrue)%0A%20%20%20%20regex_input%0A%20%20%20%20return%20(regex_input%2C)%0A%0A%0A%40app.cell%0Adef%20_(regex_input%2C%20text_input)%3A%0A%20%20%20%20re2.sub(pattern%3Dregex_input.value%2C%20text%3Dtext_input.value%2C%20repl%3D%22%22)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">bde2e4fdf5c7c05c130845e0a974ef12</marimo-code-hash>
</body>
</html>
